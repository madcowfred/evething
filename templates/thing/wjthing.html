{% extends "base.html" %}
{% load thing_extras %}

{% block title %}Wallet Journal{% endblock %}

{% block content %}
      <div class="row-fluid">
        <div class="span6">
          <h2>Wallet Journal Thing</h2>

          <table class="table table-striped table-bordered table-condensed table-hover">
            <thead>
              <tr class="c">
                <th>Date</th>
                <th>Income</th>
                <th>Expenses</th>
                <th>Balance</th>
              </tr>
            </thead>
            <tbody>
              {% for month_data in months -%}
              <tr>
                <td class="journal-date">{{ month_data.year }}-{{ month_data.month|stringformat('02d') }}</td>
                <td class="journal-amount pos">
                  +{{ month_data.sum_in|commas }}
                </td>
                <td class="journal-amount neg">
                  {{ month_data.sum_out|commas }}
                </td>
                <td class="journal-amount {% if month_data.sum_bal >= 0 %}pos{% else %}neg{% endif %}">
                  {{ month_data.sum_bal|commas }}
                </td>
              </tr>
              {%- else -%}
              <tr>
                <td colspan="3">No matching transactions.</td>
              </tr>
              {%- endfor %}
            </tbody>
          </table>
        </div>
      </div>
{% endblock %}
