function parseUri(t){for(var e=parseUri.options,i=e.parser[e.strictMode?"strict":"loose"].exec(t),s={},a=14;a--;)s[e.key[a]]=i[a]||"";return s[e.q.name]={},s[e.key[12]].replace(e.q.parser,function(t,i,a){i&&(s[e.q.name][i]=a)}),s}function parseQueryString(){var t=(window.location.search||"?").substr(1),e={};return t.replace(/([^&=]+)=?([^&]*)(?:&+|$)/g,function(t,i,s){(e[i]=e[i]||[]).push(s)}),e}!function(t){"use strict";t.extend({tablesorter:new function(){function e(t){"undefined"!=typeof console&&console.log!==void 0?console.log(t):alert(t)}function i(t,i){e(t+" ("+((new Date).getTime()-i.getTime())+"ms)")}function s(e,i,s){if(!i)return"";var a=e.config,r=a.textExtraction,n="";return n="simple"===r?a.supportsTextContent?i.textContent:t(i).text():"function"==typeof r?r(i,e,s):"object"==typeof r&&r.hasOwnProperty(s)?r[s](i,e,s):a.supportsTextContent?i.textContent:t(i).text(),t.trim(n)}function a(t,i,a,r){for(var n,o=k.parsers.length,l=!1,d="",c=!0;""===d&&c;)a++,i[a]?(l=i[a].cells[r],d=s(t,l,r),t.config.debug&&e("Checking if value was empty on row "+a+", column: "+r+': "'+d+'"')):c=!1;for(;--o>=0;)if(n=k.parsers[o],n&&"text"!==n.id&&n.is&&n.is(d,t,l))return n;return k.getParserById("text")}function r(t){var i,s,r,n,o,l,d,c=t.config,h=c.$tbodies=c.$table.children("tbody:not(."+c.cssInfoBlock+")"),f="";if(0===h.length)return c.debug?e("*Empty table!* Not building a parser cache"):"";if(i=h[0].rows,i[0])for(s=[],r=i[0].cells.length,n=0;r>n;n++)o=c.$headers.filter(":not([colspan])"),o=o.add(c.$headers.filter('[colspan="1"]')).filter('[data-column="'+n+'"]:last'),l=c.headers[n],d=k.getParserById(k.getData(o,l,"sorter")),c.empties[n]=k.getData(o,l,"empty")||c.emptyTo||(c.emptyToBottom?"bottom":"top"),c.strings[n]=k.getData(o,l,"string")||c.stringTo||"max",d||(d=a(t,i,-1,n)),c.debug&&(f+="column:"+n+"; parser:"+d.id+"; string:"+c.strings[n]+"; empty: "+c.empties[n]+"\n"),s.push(d);c.debug&&e(f),c.parsers=s}function n(a){var r,n,o,l,d,c,h,f,p,u,g=a.tBodies,m=a.config,v=m.parsers,b=[];if(m.cache={},!v)return m.debug?e("*Empty table!* Not building a cache"):"";for(m.debug&&(u=new Date),m.showProcessing&&k.isProcessing(a,!0),h=0;g.length>h;h++)if(m.cache[h]={row:[],normalized:[]},!t(g[h]).hasClass(m.cssInfoBlock)){for(r=g[h]&&g[h].rows.length||0,n=g[h].rows[0]&&g[h].rows[0].cells.length||0,d=0;r>d;++d)if(f=t(g[h].rows[d]),p=[],f.hasClass(m.cssChildRow))m.cache[h].row[m.cache[h].row.length-1]=m.cache[h].row[m.cache[h].row.length-1].add(f);else{for(m.cache[h].row.push(f),c=0;n>c;++c)o=s(a,f[0].cells[c],c),l=v[c].format(o,a,f[0].cells[c],c),p.push(l),"numeric"===(v[c].type||"").toLowerCase()&&(b[c]=Math.max(Math.abs(l)||0,b[c]||0));p.push(m.cache[h].normalized.length),m.cache[h].normalized.push(p)}m.cache[h].colMax=b}m.showProcessing&&k.isProcessing(a),m.debug&&i("Building cache for "+r+" rows",u)}function o(e,s){var a,r,n,o,l,d,c,h,f,p,u,g,m=e.config,v=e.tBodies,b=[],y=m.cache;if(y[0]){for(m.debug&&(g=new Date),f=0;v.length>f;f++)if(l=t(v[f]),l.length&&!l.hasClass(m.cssInfoBlock)){for(d=k.processTbody(e,l,!0),a=y[f].row,r=y[f].normalized,n=r.length,o=n?r[0].length-1:0,c=0;n>c;c++)if(u=r[c][o],b.push(a[u]),!m.appender||!m.removeRows)for(p=a[u].length,h=0;p>h;h++)d.append(a[u][h]);k.processTbody(e,d,!1)}m.appender&&m.appender(e,b),m.debug&&i("Rebuilt table",g),s||k.applyWidget(e),t(e).trigger("sortEnd",e)}}function l(e){var i,s,a,r,n,o,l,d,c,h,f,p,u=[],g={},m=0,v=t(e).find("thead:eq(0), tfoot").children("tr");for(i=0;v.length>i;i++)for(o=v[i].cells,s=0;o.length>s;s++){for(n=o[s],l=n.parentNode.rowIndex,d=l+"-"+n.cellIndex,c=n.rowSpan||1,h=n.colSpan||1,u[l]===void 0&&(u[l]=[]),a=0;u[l].length+1>a;a++)if(u[l][a]===void 0){f=a;break}for(g[d]=f,m=Math.max(f,m),t(n).attr({"data-column":f}),a=l;l+c>a;a++)for(u[a]===void 0&&(u[a]=[]),p=u[a],r=f;f+h>r;r++)p[r]="x"}return e.config.columns=m,g}function d(t){return/^d/i.test(t)||1===t}function c(s){var a,r,n,o,c,h,p,u=l(s),g=s.config;g.headerList=[],g.headerContent=[],g.debug&&(p=new Date),o=g.cssIcon?'<i class="'+g.cssIcon+'"></i>':"",g.$headers=t(s).find(g.selectorHeaders).each(function(e){r=t(this),a=g.headers[e],g.headerContent[e]=this.innerHTML,c=g.headerTemplate.replace(/\{content\}/g,this.innerHTML).replace(/\{icon\}/g,o),g.onRenderTemplate&&(n=g.onRenderTemplate.apply(r,[e,c]),n&&"string"==typeof n&&(c=n)),this.innerHTML='<div class="tablesorter-header-inner">'+c+"</div>",g.onRenderHeader&&g.onRenderHeader.apply(r,[e]),this.column=u[this.parentNode.rowIndex+"-"+this.cellIndex],this.order=d(k.getData(r,a,"sortInitialOrder")||g.sortInitialOrder)?[1,0,2]:[0,1,2],this.count=-1,this.lockedOrder=!1,h=k.getData(r,a,"lockedOrder")||!1,h!==void 0&&h!==!1&&(this.order=this.lockedOrder=d(h)?[1,1,1]:[0,0,0]),r.addClass(g.cssHeader),g.headerList[e]=this,r.parent().addClass(g.cssHeaderRow),r.attr("tabindex",0)}),f(s),g.debug&&(i("Built headers:",p),e(g.$headers))}function h(t,e,i){var s=t.config;s.$table.find(s.selectorRemove).remove(),r(t),n(t),w(s.$table,e,i)}function f(e){var i,s=e.config;s.$headers.each(function(e,a){i="false"===k.getData(a,s.headers[e],"sorter"),a.sortDisabled=i,t(a)[i?"addClass":"removeClass"]("sorter-false")})}function p(e){var i,s,a,r,n=e.config,o=n.sortList,l=[n.cssAsc,n.cssDesc],d=t(e).find("tfoot tr").children().removeClass(l.join(" "));for(n.$headers.removeClass(l.join(" ")),r=o.length,s=0;r>s;s++)if(2!==o[s][1]&&(i=n.$headers.not(".sorter-false").filter('[data-column="'+o[s][0]+'"]'+(1===r?":last":"")),i.length))for(a=0;i.length>a;a++)i[a].sortDisabled||(i.eq(a).addClass(l[o[s][1]]),d.length&&d.filter('[data-column="'+o[s][0]+'"]').eq(a).addClass(l[o[s][1]]))}function u(e){if(e.config.widthFixed&&0===t(e).find("colgroup").length){var i=t("<colgroup>"),s=t(e).width();t(e.tBodies[0]).find("tr:first").children("td").each(function(){i.append(t("<col>").css("width",parseInt(1e3*(t(this).width()/s),10)/10+"%"))}),t(e).prepend(i)}}function g(e,i){var s,a,r,n=e.config,o=i||n.sortList;n.sortList=[],t.each(o,function(e,i){s=[parseInt(i[0],10),parseInt(i[1],10)],r=n.headerList[s[0]],r&&(n.sortList.push(s),a=t.inArray(s[1],r.order),r.count=a>=0?a:s[1]%(n.sortReset?3:2))})}function m(t,e){return t&&t[e]?t[e].type||"":""}function v(e,i,s){var a,r,n,l,d,c=e.config,h=!s[c.sortMultiSortKey],f=t(e);if(f.trigger("sortStart",e),i.count=s[c.sortResetKey]?2:(i.count+1)%(c.sortReset?3:2),c.sortRestart&&(r=i,c.$headers.each(function(){this===r||!h&&t(this).is("."+c.cssDesc+",."+c.cssAsc)||(this.count=-1)})),r=i.column,h){if(c.sortList=[],null!==c.sortForce)for(a=c.sortForce,n=0;a.length>n;n++)a[n][0]!==r&&c.sortList.push(a[n]);if(l=i.order[i.count],2>l&&(c.sortList.push([r,l]),i.colSpan>1))for(n=1;i.colSpan>n;n++)c.sortList.push([r+n,l])}else if(c.sortAppend&&c.sortList.length>1&&k.isValueInArray(c.sortAppend[0][0],c.sortList)&&c.sortList.pop(),k.isValueInArray(r,c.sortList))for(n=0;c.sortList.length>n;n++)d=c.sortList[n],l=c.headerList[d[0]],d[0]===r&&(d[1]=l.order[l.count],2===d[1]&&(c.sortList.splice(n,1),l.count=-1));else if(l=i.order[i.count],2>l&&(c.sortList.push([r,l]),i.colSpan>1))for(n=1;i.colSpan>n;n++)c.sortList.push([r+n,l]);if(null!==c.sortAppend)for(a=c.sortAppend,n=0;a.length>n;n++)a[n][0]!==r&&c.sortList.push(a[n]);f.trigger("sortBegin",e),setTimeout(function(){p(e),b(e),o(e)},1)}function b(e){var s,a,r,n,o,l,d,c,h,f,p=0,u=e.config,g=u.sortList,v=g.length,b=e.tBodies.length;if(!u.serverSideSorting&&u.cache[0]){for(u.debug&&(s=new Date),r=0;b>r;r++)o=u.cache[r].colMax,l=u.cache[r].normalized,d=l.length,f=l&&l[0]?l[0].length-1:0,l.sort(function(i,s){for(a=0;v>a;a++){n=g[a][0],h=g[a][1],c=/n/i.test(m(u.parsers,n))?"Numeric":"Text",c+=0===h?"":"Desc",/Numeric/.test(c)&&u.strings[n]&&(p="boolean"==typeof u.string[u.strings[n]]?(0===h?1:-1)*(u.string[u.strings[n]]?-1:1):u.strings[n]?u.string[u.strings[n]]||0:0);var r=t.tablesorter["sort"+c](e,i[n],s[n],n,o[n],p);if(r)return r}return i[f]-s[f]});u.debug&&i("Sorting on "+(""+g)+" and dir "+h+" time",s)}}function y(t,e){t.trigger("updateComplete"),"function"==typeof e&&e(t[0])}function w(t,e,i){e===!1||t[0].isProcessing?y(t,i):t.trigger("sorton",[t[0].config.sortList,function(){y(t,i)}])}function $(e){var i,a,l=e.config,d=l.$table;l.$headers.find(l.selectorSort).add(l.$headers.filter(l.selectorSort)).unbind("mousedown.tablesorter mouseup.tablesorter sort.tablesorter keypress.tablesorter").bind("mousedown.tablesorter mouseup.tablesorter sort.tablesorter keypress.tablesorter",function(i,s){if(1!==(i.which||i.button)&&!/sort|keypress/.test(i.type)||"keypress"===i.type&&13!==i.which)return!1;if("mouseup"===i.type&&s!==!0&&(new Date).getTime()-a>250)return!1;if("mousedown"===i.type)return a=(new Date).getTime(),"INPUT"===i.target.tagName?"":!l.cancelSelection;l.delayInit&&!l.cache&&n(e);var r=/TH|TD/.test(this.tagName)?t(this):t(this).parents("th, td").filter(":first"),o=r[0];o.sortDisabled||v(e,o,i)}),l.cancelSelection&&l.$headers.attr("unselectable","on").bind("selectstart",!1).css({"user-select":"none",MozUserSelect:"none"}),d.unbind("sortReset update updateRows updateCell updateAll addRows sorton appendCache applyWidgetId applyWidgets refreshWidgets destroy mouseup mouseleave ".split(" ").join(".tablesorter ")).bind("sortReset.tablesorter",function(t){t.stopPropagation(),l.sortList=[],p(e),b(e),o(e)}).bind("updateAll.tablesorter",function(t,i,s){t.stopPropagation(),k.refreshWidgets(e,!0,!0),k.restoreHeaders(e),c(e),$(e),h(e,i,s)}).bind("update.tablesorter updateRows.tablesorter",function(t,i,s){t.stopPropagation(),f(e),h(e,i,s)}).bind("updateCell.tablesorter",function(i,a,r,n){i.stopPropagation(),d.find(l.selectorRemove).remove();var o,c,h,f=d.find("tbody"),p=f.index(t(a).parents("tbody").filter(":first")),u=t(a).parents("tr").filter(":first");a=t(a)[0],f.length&&p>=0&&(c=f.eq(p).find("tr").index(u),h=a.cellIndex,o=l.cache[p].normalized[c].length-1,l.cache[p].row[e.config.cache[p].normalized[c][o]]=u,l.cache[p].normalized[c][h]=l.parsers[h].format(s(e,a,h),e,a,h),w(d,r,n))}).bind("addRows.tablesorter",function(t,a,n,o){t.stopPropagation();var c,h=a.filter("tr").length,f=[],p=a[0].cells.length,u=d.find("tbody").index(a.parents("tbody").filter(":first"));for(l.parsers||r(e),c=0;h>c;c++){for(i=0;p>i;i++)f[i]=l.parsers[i].format(s(e,a[c].cells[i],i),e,a[c].cells[i],i);f.push(l.cache[u].row.length),l.cache[u].row.push([a[c]]),l.cache[u].normalized.push(f),f=[]}w(d,n,o)}).bind("sorton.tablesorter",function(t,i,s,a){t.stopPropagation(),d.trigger("sortStart",this),g(e,i),p(e),d.trigger("sortBegin",this),b(e),o(e,a),"function"==typeof s&&s(e)}).bind("appendCache.tablesorter",function(t,i,s){t.stopPropagation(),o(e,s),"function"==typeof i&&i(e)}).bind("applyWidgetId.tablesorter",function(t,i){t.stopPropagation(),k.getWidgetById(i).format(e,l,l.widgetOptions)}).bind("applyWidgets.tablesorter",function(t,i){t.stopPropagation(),k.applyWidget(e,i)}).bind("refreshWidgets.tablesorter",function(t,i,s){t.stopPropagation(),k.refreshWidgets(e,i,s)}).bind("destroy.tablesorter",function(t,i,s){t.stopPropagation(),k.destroy(e,i,s)})}var k=this;k.version="2.10.8",k.parsers=[],k.widgets=[],k.defaults={theme:"default",widthFixed:!1,showProcessing:!1,headerTemplate:"{content}",onRenderTemplate:null,onRenderHeader:null,cancelSelection:!0,dateFormat:"mmddyyyy",sortMultiSortKey:"shiftKey",sortResetKey:"ctrlKey",usNumberFormat:!0,delayInit:!1,serverSideSorting:!1,headers:{},ignoreCase:!0,sortForce:null,sortList:[],sortAppend:null,sortInitialOrder:"asc",sortLocaleCompare:!1,sortReset:!1,sortRestart:!1,emptyTo:"bottom",stringTo:"max",textExtraction:"simple",textSorter:null,widgets:[],widgetOptions:{zebra:["even","odd"]},initWidgets:!0,initialized:null,tableClass:"tablesorter",cssAsc:"tablesorter-headerAsc",cssChildRow:"tablesorter-childRow",cssDesc:"tablesorter-headerDesc",cssHeader:"tablesorter-header",cssHeaderRow:"tablesorter-headerRow",cssIcon:"tablesorter-icon",cssInfoBlock:"tablesorter-infoOnly",cssProcessing:"tablesorter-processing",selectorHeaders:"> thead th, > thead td",selectorSort:"th, td",selectorRemove:".remove-me",debug:!1,headerList:[],empties:{},strings:{},parsers:[]},k.log=e,k.benchmark=i,k.construct=function(i){return this.each(function(){if(!this.tHead||0===this.tBodies.length||this.hasInitialized===!0)return this.config&&this.config.debug?e("stopping initialization! No thead, tbody or tablesorter has already been initialized"):"";var s,a=t(this),o=this,l="",d=t.metadata;o.hasInitialized=!1,o.isProcessing=!0,o.config={},s=t.extend(!0,o.config,k.defaults,i),t.data(o,"tablesorter",s),s.debug&&t.data(o,"startoveralltimer",new Date),s.supportsTextContent="x"===t("<span>x</span>")[0].textContent,s.supportsDataObject=parseFloat(t.fn.jquery)>=1.4,s.string={max:1,min:-1,"max+":1,"max-":-1,zero:0,none:0,"null":0,top:!0,bottom:!1},/tablesorter\-/.test(a.attr("class"))||(l=""!==s.theme?" tablesorter-"+s.theme:""),s.$table=a.addClass(s.tableClass+l),s.$tbodies=a.children("tbody:not(."+s.cssInfoBlock+")"),c(o),u(o),r(o),s.delayInit||n(o),$(o),s.supportsDataObject&&a.data().sortlist!==void 0?s.sortList=a.data().sortlist:d&&a.metadata()&&a.metadata().sortlist&&(s.sortList=a.metadata().sortlist),k.applyWidget(o,!0),s.sortList.length>0?a.trigger("sorton",[s.sortList,{},!s.initWidgets]):s.initWidgets&&k.applyWidget(o),s.showProcessing&&a.unbind("sortBegin.tablesorter sortEnd.tablesorter").bind("sortBegin.tablesorter sortEnd.tablesorter",function(t){k.isProcessing(o,"sortBegin"===t.type)}),o.hasInitialized=!0,o.isProcessing=!1,s.debug&&k.benchmark("Overall initialization time",t.data(o,"startoveralltimer")),a.trigger("tablesorter-initialized",o),"function"==typeof s.initialized&&s.initialized(o)})},k.isProcessing=function(e,i,s){e=t(e);var a=e[0].config,r=s||e.find("."+a.cssHeader);i?(a.sortList.length>0&&(r=r.filter(function(){return this.sortDisabled?!1:k.isValueInArray(parseFloat(t(this).attr("data-column")),a.sortList)})),r.addClass(a.cssProcessing)):r.removeClass(a.cssProcessing)},k.processTbody=function(e,i,s){var a;return s?(e.isProcessing=!0,i.before('<span class="tablesorter-savemyplace"/>'),a=t.fn.detach?i.detach():i.remove()):(a=t(e).find("span.tablesorter-savemyplace"),i.insertAfter(a),a.remove(),e.isProcessing=!1,void 0)},k.clearTableBody=function(e){t(e)[0].config.$tbodies.empty()},k.restoreHeaders=function(e){var i=e.config;i.$table.find(i.selectorHeaders).each(function(e){t(this).find(".tablesorter-header-inner").length&&t(this).html(i.headerContent[e])})},k.destroy=function(e,i,s){if(e=t(e)[0],e.hasInitialized){k.refreshWidgets(e,!0,!0);var a=t(e),r=e.config,n=a.find("thead:first"),o=n.find("tr."+r.cssHeaderRow).removeClass(r.cssHeaderRow),l=a.find("tfoot:first > tr").children("th, td");n.find("tr").not(o).remove(),a.removeData("tablesorter").unbind("sortReset update updateAll updateRows updateCell addRows sorton appendCache applyWidgetId applyWidgets refreshWidgets destroy mouseup mouseleave keypress sortBegin sortEnd ".split(" ").join(".tablesorter ")),r.$headers.add(l).removeClass(r.cssHeader+" "+r.cssAsc+" "+r.cssDesc).removeAttr("data-column"),o.find(r.selectorSort).unbind("mousedown.tablesorter mouseup.tablesorter keypress.tablesorter"),k.restoreHeaders(e),i!==!1&&a.removeClass(r.tableClass+" tablesorter-"+r.theme),e.hasInitialized=!1,"function"==typeof s&&s(e)}},k.regex=[/(^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,/^0x[0-9a-f]+$/i],k.sortText=function(t,e,i,s){if(e===i)return 0;var a,r,n,o,l,d,c,h,f=t.config,p=f.string[f.empties[s]||f.emptyTo],u=k.regex;if(""===e&&0!==p)return"boolean"==typeof p?p?-1:1:-p||-1;if(""===i&&0!==p)return"boolean"==typeof p?p?1:-1:p||1;if("function"==typeof f.textSorter)return f.textSorter(e,i,t,s);if(a=e.replace(u[0],"\\0$1\\0").replace(/\\0$/,"").replace(/^\\0/,"").split("\\0"),n=i.replace(u[0],"\\0$1\\0").replace(/\\0$/,"").replace(/^\\0/,"").split("\\0"),r=parseInt(e.match(u[2]),16)||1!==a.length&&e.match(u[1])&&Date.parse(e),o=parseInt(i.match(u[2]),16)||r&&i.match(u[1])&&Date.parse(i)||null){if(o>r)return-1;if(r>o)return 1}for(h=Math.max(a.length,n.length),c=0;h>c;c++){if(l=isNaN(a[c])?a[c]||0:parseFloat(a[c])||0,d=isNaN(n[c])?n[c]||0:parseFloat(n[c])||0,isNaN(l)!==isNaN(d))return isNaN(l)?1:-1;if(typeof l!=typeof d&&(l+="",d+=""),d>l)return-1;if(l>d)return 1}return 0},k.sortTextDesc=function(t,e,i,s){if(e===i)return 0;var a=t.config,r=a.string[a.empties[s]||a.emptyTo];return""===e&&0!==r?"boolean"==typeof r?r?-1:1:r||1:""===i&&0!==r?"boolean"==typeof r?r?1:-1:-r||-1:"function"==typeof a.textSorter?a.textSorter(i,e,t,s):k.sortText(t,i,e)},k.getTextValue=function(t,e,i){if(e){var s,a=t?t.length:0,r=e+i;for(s=0;a>s;s++)r+=t.charCodeAt(s);return i*r}return 0},k.sortNumeric=function(t,e,i,s,a,r){if(e===i)return 0;var n=t.config,o=n.string[n.empties[s]||n.emptyTo];return""===e&&0!==o?"boolean"==typeof o?o?-1:1:-o||-1:""===i&&0!==o?"boolean"==typeof o?o?1:-1:o||1:(isNaN(e)&&(e=k.getTextValue(e,a,r)),isNaN(i)&&(i=k.getTextValue(i,a,r)),e-i)},k.sortNumericDesc=function(t,e,i,s,a,r){if(e===i)return 0;var n=t.config,o=n.string[n.empties[s]||n.emptyTo];return""===e&&0!==o?"boolean"==typeof o?o?-1:1:o||1:""===i&&0!==o?"boolean"==typeof o?o?1:-1:-o||-1:(isNaN(e)&&(e=k.getTextValue(e,a,r)),isNaN(i)&&(i=k.getTextValue(i,a,r)),i-e)},k.characterEquivalents={a:"áàâãäąå",A:"ÁÀÂÃÄĄÅ",c:"çćč",C:"ÇĆČ",e:"éèêëěę",E:"ÉÈÊËĚĘ",i:"íìİîïı",I:"ÍÌİÎÏ",o:"óòôõö",O:"ÓÒÔÕÖ",ss:"ß",SS:"ẞ",u:"úùûüů",U:"ÚÙÛÜŮ"},k.replaceAccents=function(t){var e,i="[",s=k.characterEquivalents;if(!k.characterRegex){k.characterRegexArray={};for(e in s)"string"==typeof e&&(i+=s[e],k.characterRegexArray[e]=RegExp("["+s[e]+"]","g"));k.characterRegex=RegExp(i+"]")}if(k.characterRegex.test(t))for(e in s)"string"==typeof e&&(t=t.replace(k.characterRegexArray[e],e));return t},k.isValueInArray=function(t,e){var i,s=e.length;for(i=0;s>i;i++)if(e[i][0]===t)return!0;return!1},k.addParser=function(t){var e,i=k.parsers.length,s=!0;for(e=0;i>e;e++)k.parsers[e].id.toLowerCase()===t.id.toLowerCase()&&(s=!1);s&&k.parsers.push(t)},k.getParserById=function(t){var e,i=k.parsers.length;for(e=0;i>e;e++)if(k.parsers[e].id.toLowerCase()===(""+t).toLowerCase())return k.parsers[e];return!1},k.addWidget=function(t){k.widgets.push(t)},k.getWidgetById=function(t){var e,i,s=k.widgets.length;for(e=0;s>e;e++)if(i=k.widgets[e],i&&i.hasOwnProperty("id")&&i.id.toLowerCase()===t.toLowerCase())return i},k.applyWidget=function(e,s){e=t(e)[0];var a,r,n,o=e.config,l=o.widgetOptions,d=[];o.debug&&(a=new Date),o.widgets.length&&(o.widgets=t.grep(o.widgets,function(e,i){return t.inArray(e,o.widgets)===i}),t.each(o.widgets||[],function(t,e){n=k.getWidgetById(e),n&&n.id&&(n.priority||(n.priority=10),d[t]=n)}),d.sort(function(t,e){return t.priority<e.priority?-1:t.priority===e.priority?0:1}),t.each(d,function(i,a){a&&(s?(a.hasOwnProperty("options")&&(l=e.config.widgetOptions=t.extend(!0,{},a.options,l)),a.hasOwnProperty("init")&&a.init(e,a,o,l)):!s&&a.hasOwnProperty("format")&&a.format(e,o,l,!1))})),o.debug&&(r=o.widgets.length,i("Completed "+(s===!0?"initializing ":"applying ")+r+" widget"+(1!==r?"s":""),a))},k.refreshWidgets=function(i,s,a){i=t(i)[0];var r,n=i.config,o=n.widgets,l=k.widgets,d=l.length;for(r=0;d>r;r++)l[r]&&l[r].id&&(s||0>t.inArray(l[r].id,o))&&(n.debug&&e("Refeshing widgets: Removing "+l[r].id),l[r].hasOwnProperty("remove")&&l[r].remove(i,n,n.widgetOptions));a!==!0&&k.applyWidget(i,s)},k.getData=function(e,i,s){var a,r,n="",o=t(e);return o.length?(a=t.metadata?o.metadata():!1,r=" "+(o.attr("class")||""),o.data(s)!==void 0||o.data(s.toLowerCase())!==void 0?n+=o.data(s)||o.data(s.toLowerCase()):a&&a[s]!==void 0?n+=a[s]:i&&i[s]!==void 0?n+=i[s]:" "!==r&&r.match(" "+s+"-")&&(n=r.match(RegExp("\\s"+s+"-([\\w-]+)"))[1]||""),t.trim(n)):""},k.formatFloat=function(e,i){if("string"!=typeof e||""===e)return e;var s,a=i&&i.config?i.config.usNumberFormat!==!1:i!==void 0?i:!0;return e=a?e.replace(/,/g,""):e.replace(/[\s|\.]/g,"").replace(/,/g,"."),/^\s*\([.\d]+\)/.test(e)&&(e=e.replace(/^\s*\(/,"-").replace(/\)/,"")),s=parseFloat(e),isNaN(s)?t.trim(e):s},k.isDigit=function(t){return isNaN(t)?/^[\-+(]?\d+[)]?$/.test((""+t).replace(/[,.'"\s]/g,"")):!0}}});var e=t.tablesorter;t.fn.extend({tablesorter:e.construct}),e.addParser({id:"text",is:function(){return!0},format:function(i,s){var a=s.config;return i&&(i=t.trim(a.ignoreCase?i.toLocaleLowerCase():i),i=a.sortLocaleCompare?e.replaceAccents(i):i),i},type:"text"}),e.addParser({id:"digit",is:function(t){return e.isDigit(t)},format:function(i,s){var a=e.formatFloat((i||"").replace(/[^\w,. \-()]/g,""),s);return i&&"number"==typeof a?a:i?t.trim(i&&s.config.ignoreCase?i.toLocaleLowerCase():i):i},type:"numeric"}),e.addParser({id:"currency",is:function(t){return/^\(?\d+[\u00a3$\u20ac\u00a4\u00a5\u00a2?.]|[\u00a3$\u20ac\u00a4\u00a5\u00a2?.]\d+\)?$/.test((t||"").replace(/[,. ]/g,""))},format:function(i,s){var a=e.formatFloat((i||"").replace(/[^\w,. \-()]/g,""),s);return i&&"number"==typeof a?a:i?t.trim(i&&s.config.ignoreCase?i.toLocaleLowerCase():i):i},type:"numeric"}),e.addParser({id:"ipAddress",is:function(t){return/^\d{1,3}[\.]\d{1,3}[\.]\d{1,3}[\.]\d{1,3}$/.test(t)},format:function(t,i){var s,a=t?t.split("."):"",r="",n=a.length;for(s=0;n>s;s++)r+=("00"+a[s]).slice(-3);return t?e.formatFloat(r,i):t},type:"numeric"}),e.addParser({id:"url",is:function(t){return/^(https?|ftp|file):\/\//.test(t)},format:function(e){return e?t.trim(e.replace(/(https?|ftp|file):\/\//,"")):e},type:"text"}),e.addParser({id:"isoDate",is:function(t){return/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}/.test(t)},format:function(t,i){return t?e.formatFloat(""!==t?new Date(t.replace(/-/g,"/")).getTime()||"":"",i):t},type:"numeric"}),e.addParser({id:"percent",is:function(t){return/(\d\s*?%|%\s*?\d)/.test(t)&&15>t.length},format:function(t,i){return t?e.formatFloat(t.replace(/%/g,""),i):t},type:"numeric"}),e.addParser({id:"usLongDate",is:function(t){return/^[A-Z]{3,10}\.?\s+\d{1,2},?\s+(\d{4})(\s+\d{1,2}:\d{2}(:\d{2})?(\s+[AP]M)?)?$/i.test(t)||/^\d{1,2}\s+[A-Z]{3,10}\s+\d{4}/i.test(t)},format:function(t,i){return t?e.formatFloat(new Date(t.replace(/(\S)([AP]M)$/i,"$1 $2")).getTime()||"",i):t},type:"numeric"}),e.addParser({id:"shortDate",is:function(t){return/(^\d{1,2}[\/\s]\d{1,2}[\/\s]\d{4})|(^\d{4}[\/\s]\d{1,2}[\/\s]\d{1,2})/.test((t||"").replace(/\s+/g," ").replace(/[\-.,]/g,"/"))},format:function(t,i,s,a){if(t){var r=i.config,n=r.headerList[a],o=n.dateFormat||e.getData(n,r.headers[a],"dateFormat")||r.dateFormat;t=t.replace(/\s+/g," ").replace(/[\-.,]/g,"/"),"mmddyyyy"===o?t=t.replace(/(\d{1,2})[\/\s](\d{1,2})[\/\s](\d{4})/,"$3/$1/$2"):"ddmmyyyy"===o?t=t.replace(/(\d{1,2})[\/\s](\d{1,2})[\/\s](\d{4})/,"$3/$2/$1"):"yyyymmdd"===o&&(t=t.replace(/(\d{4})[\/\s](\d{1,2})[\/\s](\d{1,2})/,"$1/$2/$3"))}return t?e.formatFloat(new Date(t).getTime()||"",i):t},type:"numeric"}),e.addParser({id:"time",is:function(t){return/^(([0-2]?\d:[0-5]\d)|([0-1]?\d:[0-5]\d\s?([AP]M)))$/i.test(t)},format:function(t,i){return t?e.formatFloat(new Date("2000/01/01 "+t.replace(/(\S)([AP]M)$/i,"$1 $2")).getTime()||"",i):t},type:"numeric"}),e.addParser({id:"metadata",is:function(){return!1},format:function(e,i,s){var a=i.config,r=a.parserMetadataName?a.parserMetadataName:"sortValue";return t(s).metadata()[r]},type:"numeric"}),e.addWidget({id:"zebra",priority:90,format:function(i,s,a){var r,n,o,l,d,c,h,f,p=RegExp(s.cssChildRow,"i"),u=s.$tbodies;for(s.debug&&(c=new Date),h=0;u.length>h;h++)r=u.eq(h),f=r.children("tr").length,f>1&&(l=0,n=r.children("tr:visible"),n.each(function(){o=t(this),p.test(this.className)||l++,d=0===l%2,o.removeClass(a.zebra[d?1:0]).addClass(a.zebra[d?0:1])}));s.debug&&e.benchmark("Applying Zebra widget",c)},remove:function(e,i,s){var a,r,n=i.$tbodies,o=(s.zebra||["even","odd"]).join(" ");for(a=0;n.length>a;a++)r=t.tablesorter.processTbody(e,n.eq(a),!0),r.children().removeClass(o),t.tablesorter.processTbody(e,r,!1)}})}(jQuery),function(t){"use strict";var e=t.tablesorter=t.tablesorter||{};e.themes={bootstrap:{table:"table table-bordered table-striped",header:"bootstrap-header",footerRow:"",footerCells:"",icons:"",sortNone:"bootstrap-icon-unsorted",sortAsc:"icon-chevron-up",sortDesc:"icon-chevron-down",active:"",hover:"",filterRow:"",even:"",odd:""},jui:{table:"ui-widget ui-widget-content ui-corner-all",header:"ui-widget-header ui-corner-all ui-state-default",footerRow:"",footerCells:"",icons:"ui-icon",sortNone:"ui-icon-carat-2-n-s",sortAsc:"ui-icon-carat-1-n",sortDesc:"ui-icon-carat-1-s",active:"ui-state-active",hover:"ui-state-hover",filterRow:"",even:"ui-widget-content",odd:"ui-state-default"}},e.storage=function(e,i,s){var a,r,n=!1,o={},l=e.id||t(".tablesorter").index(t(e)),d=window.location.pathname;if("localStorage"in window)try{window.localStorage.setItem("_tmptest","temp"),n=!0,window.localStorage.removeItem("_tmptest")}catch(c){}return t.parseJSON&&(n?o=t.parseJSON(localStorage[i]||"{}"):(r=document.cookie.split(/[;\s|=]/),a=t.inArray(i,r)+1,o=0!==a?t.parseJSON(r[a]||"{}"):{})),(s||""===s)&&window.JSON&&JSON.hasOwnProperty("stringify")?(o[d]||(o[d]={}),o[d][l]=s,n?localStorage[i]=JSON.stringify(o):(a=new Date,a.setTime(a.getTime()+31536e6),document.cookie=i+"="+JSON.stringify(o).replace(/\"/g,'"')+"; expires="+a.toGMTString()+"; path=/"),void 0):o&&o[d]?o[d][l]:{}},e.addHeaderResizeEvent=function(e,i,s){var a,r={timer:250},n=t.extend({},r,s),o=e.config,l=o.widgetOptions,d=function(){l.resize_flag=!0,a=[],o.$headers.each(function(){var e=t.data(this,"savedSizes"),i=this.offsetWidth,s=this.offsetHeight;(i!==e[0]||s!==e[1])&&(t.data(this,"savedSizes",[i,s]),a.push(this))}),a.length&&o.$table.trigger("resize",[a]),l.resize_flag=!1};return clearInterval(l.resize_timer),i?(l.resize_flag=!1,!1):(o.$headers.each(function(){t.data(this,"savedSizes",[this.offsetWidth,this.offsetHeight])}),l.resize_timer=setInterval(function(){l.resize_flag||d()},n.timer),void 0)},e.addWidget({id:"uitheme",priority:10,options:{uitheme:"jui"},format:function(i,s,a){var r,n,o,l,d=e.themes,c=s.$table,h="default"!==s.theme?s.theme:a.uitheme||"jui",f=d[d[h]?h:d[a.uitheme]?a.uitheme:"jui"],p=s.$headers,u="tr."+(a.stickyHeaders||"tablesorter-stickyHeader"),g=f.sortNone+" "+f.sortDesc+" "+f.sortAsc;s.debug&&(r=new Date),c.hasClass("tablesorter-"+h)&&s.theme!==h&&i.hasInitialized||(""!==f.even&&(a.zebra[0]+=" "+f.even),""!==f.odd&&(a.zebra[1]+=" "+f.odd),d=c.removeClass(""===s.theme?"":"tablesorter-"+s.theme).addClass("tablesorter-"+h+" "+f.table).find("tfoot"),d.length&&d.find("tr").addClass(f.footerRow).children("th, td").addClass(f.footerCells),p.addClass(f.header).filter(":not(.sorter-false)").bind("mouseenter.tsuitheme mouseleave.tsuitheme",function(e){t(this)["mouseenter"===e.type?"addClass":"removeClass"](f.hover)}),p.find(".tablesorter-wrapper").length||p.wrapInner('<div class="tablesorter-wrapper" style="position:relative;height:100%;width:100%"></div>'),s.cssIcon&&p.find("."+s.cssIcon).addClass(f.icons),c.hasClass("hasFilters")&&p.find(".tablesorter-filter-row").addClass(f.filterRow)),t.each(p,function(e){o=t(this),l=s.cssIcon?o.find("."+s.cssIcon):o,this.sortDisabled?(o.removeClass(g),l.removeClass(g+" tablesorter-icon "+f.icons)):(d=c.hasClass("hasStickyHeaders")?c.find(u).find("th").eq(e).add(o):o,n=o.hasClass(s.cssAsc)?f.sortAsc:o.hasClass(s.cssDesc)?f.sortDesc:o.hasClass(s.cssHeader)?f.sortNone:"",o[n===f.sortNone?"removeClass":"addClass"](f.active),l.removeClass(g).addClass(n))}),s.debug&&e.benchmark("Applying "+h+" theme",r)},remove:function(t,i,s){var a=i.$table,r="object"==typeof s.uitheme?"jui":s.uitheme||"jui",n="object"==typeof s.uitheme?s.uitheme:e.themes[e.themes.hasOwnProperty(r)?r:"jui"],o=a.children("thead").children(),l=n.sortNone+" "+n.sortDesc+" "+n.sortAsc;a.removeClass("tablesorter-"+r+" "+n.table).find(i.cssHeader).removeClass(n.header),o.unbind("mouseenter.tsuitheme mouseleave.tsuitheme").removeClass(n.hover+" "+l+" "+n.active).find(".tablesorter-filter-row").removeClass(n.filterRow),o.find(".tablesorter-icon").removeClass(n.icons)}}),e.addWidget({id:"columns",priority:30,options:{columns:["primary","secondary","tertiary"]},format:function(i,s,a){var r,n,o,l,d,c,h,f,p,u,g=s.$table,m=s.$tbodies,v=s.sortList,b=v.length,y=s.widgetColumns&&s.widgetColumns.hasOwnProperty("css")?s.widgetColumns.css||y:a&&a.hasOwnProperty("columns")?a.columns||y:y;for(c=y.length-1,h=y.join(" "),s.debug&&(d=new Date),p=0;m.length>p;p++)r=e.processTbody(i,m.eq(p),!0),n=r.children("tr"),u=n.length,n.each(function(){if(l=t(this),"none"!==this.style.display&&(o=l.children().removeClass(h),v&&v[0]&&(o.eq(v[0][0]).addClass(y[0]),b>1)))for(f=1;b>f;f++)o.eq(v[f][0]).addClass(y[f]||y[c])}),e.processTbody(i,r,!1);if(n=a.columns_thead!==!1?"thead tr":"",a.columns_tfoot!==!1&&(n+=(""===n?"":",")+"tfoot tr"),n.length&&(l=g.find(n).children().removeClass(h),v&&v[0]&&(l.filter('[data-column="'+v[0][0]+'"]').addClass(y[0]),b>1)))for(f=1;b>f;f++)l.filter('[data-column="'+v[f][0]+'"]').addClass(y[f]||y[c]);s.debug&&e.benchmark("Applying Columns widget",d)},remove:function(i,s,a){var r,n,o=s.$tbodies,l=(a.columns||["primary","secondary","tertiary"]).join(" ");for(s.$headers.removeClass(l),s.$table.children("tfoot").children("tr").children("th, td").removeClass(l),r=0;o.length>r;r++)n=e.processTbody(i,o.eq(r),!0),n.children("tr").each(function(){t(this).children().removeClass(l)}),e.processTbody(i,n,!1)}}),e.addWidget({id:"filter",priority:50,options:{filter_childRows:!1,filter_columnFilters:!0,filter_cssFilter:"tablesorter-filter",filter_filteredRow:"filtered",filter_formatter:null,filter_functions:null,filter_hideFilters:!1,filter_ignoreCase:!0,filter_liveSearch:!0,filter_onlyAvail:"filter-onlyAvail",filter_reset:null,filter_searchDelay:300,filter_startsWith:!1,filter_useParsedData:!1,filter_serversideFiltering:!1,filter_defaultAttrib:"data-value",filter_regex:{regex:/^\/((?:\\\/|[^\/])+)\/([mig]{0,3})?$/,child:/tablesorter-childRow/,filtered:/filtered/,type:/undefined|number/,exact:/(^[\"|\'|=])|([\"|\'|=]$)/g,nondigit:/[^\w,. \-()]/g,operators:/[<>=]/g}},format:function(i,s,a){if(s.parsers&&!s.$table.hasClass("hasFilters")){var r,n,o,l,d,c,h,f,p,u,g,m,v,b,y,w,$,k,C,x,E,_,S=e.formatFloat,T="",D=s.$headers,V=a.filter_cssFilter,N=s.$table.addClass("hasFilters"),z=N.find("tbody"),M=s.parsers.length,H=function(r){var n=t.isArray(r),o=n?r:e.getFilters(i),l=(o||[]).join("");return n&&e.setFilters(N,o),a.filter_hideFilters&&N.find(".tablesorter-filter-row").trigger(""===l?"mouseleave":"mouseenter"),T!==l||r===!1?(N.trigger("filterStart",[o]),s.showProcessing?(setTimeout(function(){return R(r,o,l),!1},30),void 0):(R(r,o,l),!1)):void 0},R=function(l,c,p){var u,g,m,v,b,k,C,E,_,V,H;for(s.debug&&(E=new Date),o=0;z.length>o;o++)if(!z.eq(o).hasClass(s.cssInfoBlock)){if(u=e.processTbody(i,z.eq(o),!0),g=u.children("tr:not(."+s.cssChildRow+")"),k=g.length,""===p||a.filter_serversideFiltering)u.children().show().removeClass(a.filter_filteredRow);else for(H=!0,b=N.data("lastSearch")||[],t.each(c,function(t,e){H=0===(e||"").indexOf(b[t]||"")&&H&&!/(\s+or\s+|\|)/g.test(e||"")}),H&&0===g.filter(":visible").length&&(H=!1),n=0;k>n;n++)if(b=g[n].className,!(a.filter_regex.child.test(b)||H&&a.filter_regex.filtered.test(b))){for(b=!0,v=g.eq(n).nextUntil("tr:not(."+s.cssChildRow+")"),$=v.length&&a.filter_childRows?v.text():"",$=a.filter_ignoreCase?$.toLocaleLowerCase():$,m=g.eq(n).children("td"),r=0;M>r;r++)if(c[r]){if(h=a.filter_useParsedData||x[r]?s.cache[o].normalized[n][r]:t.trim(m.eq(r).text()),f=!a.filter_regex.type.test(typeof h)&&a.filter_ignoreCase?h.toLocaleLowerCase():h,C=b,d=a.filter_ignoreCase?c[r].toLocaleLowerCase():c[r],a.filter_functions&&a.filter_functions[r])a.filter_functions[r]===!0?C=D.filter('[data-column="'+r+'"]:last').hasClass("filter-match")?f.search(d)>=0:c[r]===h:"function"==typeof a.filter_functions[r]?C=a.filter_functions[r](h,s.cache[o].normalized[n][r],c[r],r):"function"==typeof a.filter_functions[r][c[r]]&&(C=a.filter_functions[r][c[r]](h,s.cache[o].normalized[n][r],c[r],r));
else if(a.filter_regex.regex.test(d)){y=a.filter_regex.regex.exec(d);try{C=RegExp(y[1],y[2]).test(f)}catch(R){C=!1}}else if(d.replace(a.filter_regex.exact,"")==f)C=!0;else if(/^\!/.test(d))d=d.replace("!",""),w=f.search(t.trim(d)),C=""===d?!0:!(a.filter_startsWith?0===w:w>=0);else if(/^[<>]=?/.test(d))w=S(d.replace(a.filter_regex.nondigit,"").replace(a.filter_regex.operators,""),i),(x[r]||"numeric"===s.parsers[r].type)&&(y=s.parsers[r].format(""+d.replace(a.filter_regex.operators,""),i,D.eq(r),r),w=""===y||isNaN(y)?w:y),y=!x[r]&&"numeric"!==s.parsers[r].type||isNaN(w)||!s.cache[o].normalized[n]?isNaN(f)?S(f.replace(a.filter_regex.nondigit,""),i):S(f,i):s.cache[o].normalized[n][r],/>/.test(d)&&(C=/>=/.test(d)?y>=w:y>w),/</.test(d)&&(C=/<=/.test(d)?w>=y:w>y),""===w&&(C=!0);else if(/\s+(AND|&&)\s+/g.test(c[r]))for(w=d.split(/(?:\s+(?:and|&&)\s+)/g),C=f.search(t.trim(w[0]))>=0,_=w.length-1;C&&_;)C=C&&f.search(t.trim(w[_]))>=0,_--;else/\s+(-|to)\s+/.test(d)?(w=d.split(/(?: - | to )/),_=S(w[0].replace(a.filter_regex.nondigit,""),i),V=S(w[1].replace(a.filter_regex.nondigit,""),i),(x[r]||"numeric"===s.parsers[r].type)&&(y=s.parsers[r].format(""+w[0],i,D.eq(r),r),_=""===y||isNaN(y)?_:y,y=s.parsers[r].format(""+w[1],i,D.eq(r),r),V=""===y||isNaN(y)?V:y),y=!x[r]&&"numeric"!==s.parsers[r].type||isNaN(_)||isNaN(V)?isNaN(f)?S(f.replace(a.filter_regex.nondigit,""),i):S(f,i):s.cache[o].normalized[n][r],_>V&&(C=_,_=V,V=C),C=y>=_&&V>=y||""===_||""===V?!0:!1):/[\?|\*]/.test(d)||/\s+OR\s+/.test(c[r])?(w=d.replace(/\s+OR\s+/gi,"|"),!D.filter('[data-column="'+r+'"]:last').hasClass("filter-match")&&/\|/.test(w)&&(w="^("+w+")$"),C=RegExp(w.replace(/\?/g,"\\S{1}").replace(/\*/g,"\\S*")).test(f)):(h=(f+$).indexOf(d),C=!a.filter_startsWith&&h>=0||a.filter_startsWith&&0===h);b=C?b?!0:!1:!1}g[n].style.display=b?"":"none",g.eq(n)[b?"removeClass":"addClass"](a.filter_filteredRow),v.length&&v[b?"show":"hide"]()}e.processTbody(i,u,!1)}T=p,N.data("lastSearch",c),s.debug&&e.benchmark("Completed filter widget search",E),N.trigger("applyWidgets"),N.trigger("filterEnd")},I=function(r,d,c){var h,f,p,u=[];for(r=parseInt(r,10),f=D.filter('[data-column="'+r+'"]:last'),h='<option value="">'+(f.data("placeholder")||f.attr("data-placeholder")||"")+"</option>",o=0;z.length>o;o++)for(l=s.cache[o].row.length,n=0;l>n;n++)c&&s.cache[o].row[n][0].className.match(a.filter_filteredRow)||(a.filter_useParsedData?u.push(""+s.cache[o].normalized[n][r]):(f=s.cache[o].row[n][0].cells[r],f&&u.push(t.trim(s.supportsTextContent?f.textContent:t(f).text()))));for(u=t.grep(u,function(e,i){return t.inArray(e,u)===i}),u=e.sortText?u.sort(function(t,s){return e.sortText(i,t,s,r)}):u.sort(!0),p=N.find("thead").find("select."+V+'[data-column="'+r+'"]').val(),o=0;u.length>o;o++)f=u[o].replace(/\"/g,"&quot;"),h+=""!==u[o]?'<option value="'+f+'"'+(p===f?' selected="selected"':"")+">"+u[o]+"</option>":"";N.find("thead").find("select."+V+'[data-column="'+r+'"]')[d?"html":"append"](h)},P=function(t){for(r=0;M>r;r++)$=D.filter('[data-column="'+r+'"]:last'),($.hasClass("filter-select")||a.filter_functions&&a.filter_functions[r]===!0)&&!$.hasClass("filter-false")&&(a.filter_functions||(a.filter_functions={}),a.filter_functions[r]=!0,I(r,t,$.hasClass(a.filter_onlyAvail)))},L=function(t){t===void 0||t===!0?(clearTimeout(_),_=setTimeout(function(){H(t)},a.filter_liveSearch?a.filter_searchDelay:10)):H(t)};if(s.debug&&(E=new Date),a.filter_regex.child=RegExp(s.cssChildRow),a.filter_regex.filtered=RegExp(a.filter_filteredRow),a.filter_columnFilters!==!1&&D.filter(".filter-false").length!==D.length){for($='<tr class="tablesorter-filter-row">',r=0;M>r;r++)$+="<td></td>";for(s.$filters=t($+="</tr>").appendTo(N.find("thead").eq(0)).find("td"),r=0;M>r;r++)k=!1,b=D.filter('[data-column="'+r+'"]:last'),u=a.filter_functions&&a.filter_functions[r]&&"function"!=typeof a.filter_functions[r]||b.hasClass("filter-select"),k=e.getData?"false"===e.getData(b[0],s.headers[r],"filter"):s.headers[r]&&s.headers[r].hasOwnProperty("filter")&&s.headers[r].filter===!1||b.hasClass("filter-false"),u?$=t("<select>").appendTo(s.$filters.eq(r)):(a.filter_formatter&&t.isFunction(a.filter_formatter[r])?($=a.filter_formatter[r](s.$filters.eq(r),r),$&&0===$.length&&($=s.$filters.eq(r).children("input")),$&&(0===$.parent().length||$.parent().length&&$.parent()[0]!==s.$filters[r])&&s.$filters.eq(r).append($)):$=t('<input type="search">').appendTo(s.$filters.eq(r)),$&&$.attr("placeholder",b.data("placeholder")||b.attr("data-placeholder")||"")),$&&($.addClass(V).attr("data-column",r),k&&($.addClass("disabled")[0].disabled=!0))}if(N.bind("addRows updateCell update updateRows updateComplete appendCache filterReset filterEnd search ".split(" ").join(".tsfilter "),function(t,e){return/(search|filterReset|filterEnd)/.test(t.type)||(t.stopPropagation(),P(!0)),"filterReset"===t.type&&N.find("."+V).val(""),"filterEnd"===t.type?P(!0):(e="search"===t.type?e:"updateComplete"===t.type?N.data("lastSearch"):"",L(e)),!1}).find("input."+V).bind("keyup search",function(t,e){if(27===t.which)this.value="";else if("number"==typeof a.filter_liveSearch&&this.value.length<a.filter_liveSearch&&""!==this.value||"keyup"===t.type&&(32>t.which&&8!==t.which&&a.filter_liveSearch===!0&&13!==t.which||t.which>=37&&40>=t.which||13!==t.which&&a.filter_liveSearch===!1))return;L(e)}),x=D.map(function(i){return e.getData?"parsed"===e.getData(D.filter('[data-column="'+i+'"]:last'),s.headers[i],"filter"):t(this).hasClass("filter-parsed")}).get(),a.filter_reset&&t(a.filter_reset).length&&t(a.filter_reset).bind("click.tsfilter",function(){N.trigger("filterReset")}),a.filter_functions)for(C in a.filter_functions)if(a.filter_functions.hasOwnProperty(C)&&"string"==typeof C)if($=D.filter('[data-column="'+C+'"]:last'),c="",a.filter_functions[C]!==!0||$.hasClass("filter-false")){if("string"==typeof C&&!$.hasClass("filter-false")){for(g in a.filter_functions[C])"string"==typeof g&&(c+=""===c?'<option value="">'+($.data("placeholder")||$.attr("data-placeholder")||"")+"</option>":"",c+='<option value="'+g+'">'+g+"</option>");N.find("thead").find("select."+V+'[data-column="'+C+'"]').append(c)}}else I(C);P(!0),N.find("select."+V).bind("change search",function(t,e){H(e)}),a.filter_hideFilters&&N.find(".tablesorter-filter-row").addClass("hideme").bind("mouseenter mouseleave",function(e){var i,s=e;m=t(this),clearTimeout(p),p=setTimeout(function(){/enter|over/.test(s.type)?m.removeClass("hideme"):t(document.activeElement).closest("tr")[0]!==m[0]&&(i=N.find("."+a.filter_cssFilter).map(function(){return t(this).val()||""}).get().join(""),""===i&&m.addClass("hideme"))},200)}).find("input, select").bind("focus blur",function(e){v=t(this).closest("tr"),clearTimeout(p),p=setTimeout(function(){""===N.find("."+a.filter_cssFilter).map(function(){return t(this).val()||""}).get().join("")&&v["focus"===e.type?"removeClass":"addClass"]("hideme")},200)}),s.showProcessing&&N.bind("filterStart.tsfilter filterEnd.tsfilter",function(i,a){var r=a?N.find("."+s.cssHeader).filter("[data-column]").filter(function(){return""!==a[t(this).data("column")]}):"";e.isProcessing(N[0],"filterStart"===i.type,a?r:"")}),s.debug&&e.benchmark("Applying Filter widget",E),N.bind("tablesorter-initialized",function(){for(c=e.getFilters(i),r=0;c.length>r;r++)c[r]=D.filter('[data-column="'+r+'"]:last').attr(a.filter_defaultAttrib)||c[r];e.setFilters(i,c,!0)}),N.trigger("filterInit"),H()}},remove:function(i,s,a){var r,n,o=s.$table,l=s.$tbodies;for(o.removeClass("hasFilters").unbind("addRows updateCell update updateComplete appendCache search filterStart filterEnd ".split(" ").join(".tsfilter ")).find(".tablesorter-filter-row").remove(),r=0;l.length>r;r++)n=e.processTbody(i,l.eq(r),!0),n.children().removeClass(a.filter_filteredRow).show(),e.processTbody(i,n,!1);a.filterreset&&t(a.filter_reset).unbind("click.tsfilter")}}),e.getFilters=function(e){var i=e?t(e)[0].config:{};return i&&i.widgetOptions&&!i.widgetOptions.filter_columnFilters?t(e).data("lastSearch"):i&&i.$filters?i.$filters.find("."+i.widgetOptions.filter_cssFilter).map(function(e,i){return t(i).val()}).get()||[]:!1},e.setFilters=function(e,i,s){var a=t(e),r=a.length?a[0].config:{},n=r&&r.$filters?r.$filters.find("."+r.widgetOptions.filter_cssFilter).each(function(e,s){t(s).val(i[e]||"")}).trigger("change.tsfilter")||!1:!1;return s&&a.trigger("search",[i,!1]),!!n},e.addWidget({id:"stickyHeaders",priority:60,options:{stickyHeaders:"tablesorter-stickyHeader",stickyHeaders_offset:0,stickyHeaders_cloneId:"-sticky",stickyHeaders_addResizeEvent:!0,stickyHeaders_includeCaption:!0,stickyHeaders_zIndex:2},format:function(i,s,a){if(!s.$table.hasClass("hasStickyHeaders")){var r,n=s.$table,o=t(window),l=n.children("thead:first"),d=l.children("tr:not(.sticky-false)").children(),c=".tablesorter-header-inner",h=n.find("tfoot"),f="."+(a.filter_cssFilter||"tablesorter-filter"),p=isNaN(a.stickyHeaders_offset)?t(a.stickyHeaders_offset):"",u=p.length?p.height()||0:parseInt(a.stickyHeaders_offset,10)||0,g=a.stickyHeaders_zIndex?a.stickyHeaders_zIndex:2,m=a.$sticky=n.clone().addClass("containsStickyHeaders").css({position:"fixed",margin:0,top:u,visibility:"hidden",zIndex:g}),v=m.children("thead:first").addClass(a.stickyHeaders),b="",y=0,w=!1,$=function(){u=p.length?p.height()||0:parseInt(a.stickyHeaders_offset,10)||0;var e=navigator.userAgent;y=0,"collapse"===n.css("border-collapse")||/(webkit|msie)/i.test(e)||(y=2*parseInt(d.eq(0).css("border-left-width"),10)),m.css({left:l.offset().left-o.scrollLeft()-y,width:n.width()}),r.filter(":visible").each(function(e){var i=d.filter(":visible").eq(e);t(this).css({width:i.width()-y,height:i.height()}).find(c).width(i.find(c).width())})};m.attr("id")&&(m[0].id+=a.stickyHeaders_cloneId),m.find("thead:gt(0), tr.sticky-false, tbody, tfoot").remove(),a.stickyHeaders_includeCaption||m.find("caption").remove(),r=v.children().children(),m.css({height:0,width:0,padding:0,margin:0,border:0}),r.find(".tablesorter-resizer").remove(),n.addClass("hasStickyHeaders").bind("sortEnd.tsSticky",function(){d.filter(":visible").each(function(e){var i=r.filter(":visible").eq(e);i.attr("class",t(this).attr("class")).removeClass(s.cssProcessing),s.cssIcon&&i.find("."+s.cssIcon).attr("class",t(this).find("."+s.cssIcon).attr("class"))})}).bind("pagerComplete.tsSticky",function(){$()}),d.find(s.selectorSort).add(s.$headers.filter(s.selectorSort)).each(function(e){var i=t(this),a=v.children("tr.tablesorter-headerRow").children().eq(e).bind("mouseup",function(t){i.trigger(t,!0)});s.cancelSelection&&a.attr("unselectable","on").bind("selectstart",!1).css({"user-select":"none",MozUserSelect:"none"})}),n.after(m),o.bind("scroll.tsSticky resize.tsSticky",function(t){if(n.is(":visible")){var e="tablesorter-sticky-",i=n.offset(),s=a.stickyHeaders_includeCaption?0:n.find("caption").outerHeight(!0),r=o.scrollTop()+u-s,d=n.height()-(m.height()+(h.height()||0)),c=r>i.top&&i.top+d>r?"visible":"hidden";m.removeClass(e+"visible "+e+"hidden").addClass(e+c).css({left:l.offset().left-o.scrollLeft()-y,visibility:c}),(c!==b||"resize"===t.type)&&($(),b=c)}}),a.stickyHeaders_addResizeEvent&&e.addHeaderResizeEvent(i),n.bind("filterEnd",function(){w||v.find(".tablesorter-filter-row").children().each(function(e){t(this).find(f).val(s.$filters.find(f).eq(e).val())})}),r.find(f).bind("keyup search change",function(e){if(!(32>e.which&&8!==e.which||e.which>=37&&40>=e.which)){w=!0;var i=t(this),r=i.attr("data-column");s.$filters.find(f).eq(r).val(i.val()).trigger("search"),setTimeout(function(){w=!1},a.filter_searchDelay)}}),n.trigger("stickyHeadersInit")}},remove:function(i,s,a){s.$table.removeClass("hasStickyHeaders").unbind("sortEnd.tsSticky pagerComplete.tsSticky").find("."+a.stickyHeaders).remove(),a.$sticky&&a.$sticky.length&&a.$sticky.remove(),t(".hasStickyHeaders").length||t(window).unbind("scroll.tsSticky resize.tsSticky"),e.addHeaderResizeEvent(i,!1)}}),e.addWidget({id:"resizable",priority:40,options:{resizable:!0,resizable_addLastColumn:!1},format:function(i,s,a){if(!s.$table.hasClass("hasResizable")){s.$table.addClass("hasResizable");var r,n,o,l,d,c,h,f,p={},u=s.$table,g=0,m=null,v=null,b=20>Math.abs(u.parent().width()-u.width()),y=function(){e.storage&&m&&(p[m.index()]=m.width(),p[v.index()]=v.width(),m.width(p[m.index()]),v.width(p[v.index()]),a.resizable!==!1&&e.storage(i,"tablesorter-resizable",p)),g=0,m=v=null,t(window).trigger("resize")};if(p=e.storage&&a.resizable!==!1?e.storage(i,"tablesorter-resizable"):{})for(l in p)!isNaN(l)&&s.$headers.length>l&&s.$headers.eq(l).width(p[l]);r=u.children("thead:first").children("tr"),r.children().each(function(){n=t(this),o=n.attr("data-column"),l="false"===e.getData(n,s.headers[o],"resizable"),r.children().filter('[data-column="'+o+'"]').toggleClass("resizable-false",l)}),r.each(function(){d=t(this).children(":not(.resizable-false)"),t(this).find(".tablesorter-wrapper").length||d.wrapInner('<div class="tablesorter-wrapper" style="position:relative;height:100%;width:100%"></div>'),a.resizable_addLastColumn||(d=d.slice(0,-1)),c=c?c.add(d):d}),c.each(function(){r=t(this),l=parseInt(r.css("padding-right"),10)+10,n='<div class="tablesorter-resizer" style="cursor:w-resize;position:absolute;z-index:1;right:-'+l+'px;top:0;height:100%;width:20px;"></div>',r.find(".tablesorter-wrapper").append(n)}).bind("mousemove.tsresize",function(t){0!==g&&m&&(h=t.pageX-g,f=m.width(),m.width(f+h),m.width()!==f&&b&&v.width(v.width()-h),g=t.pageX)}).bind("mouseup.tsresize",function(){y()}).find(".tablesorter-resizer,.tablesorter-resizer-grip").bind("mousedown",function(e){m=t(e.target).closest("th"),n=s.$headers.filter('[data-column="'+m.attr("data-column")+'"]'),n.length>1&&(m=m.add(n)),v=e.shiftKey?m.parent().find("th:not(.resizable-false)").filter(":last"):m.nextAll(":not(.resizable-false)").eq(0),g=e.pageX}),u.find("thead:first").bind("mouseup.tsresize mouseleave.tsresize",function(){y()}).bind("contextmenu.tsresize",function(){e.resizableReset(i);var s=t.isEmptyObject?t.isEmptyObject(p):p==={};return p={},s})}},remove:function(t,i){i.$table.removeClass("hasResizable").find("thead").unbind("mouseup.tsresize mouseleave.tsresize contextmenu.tsresize").find("tr").children().unbind("mousemove.tsresize mouseup.tsresize").find(".tablesorter-resizer,.tablesorter-resizer-grip").remove(),e.resizableReset(t)}}),e.resizableReset=function(t){t.config.$headers.filter(":not(.resizable-false)").css("width",""),e.storage&&e.storage(t,"tablesorter-resizable",{})},e.addWidget({id:"saveSort",priority:20,options:{saveSort:!0},init:function(t,e,i,s){e.format(t,i,s,!0)},format:function(i,s,a,r){var n,o,l=s.$table,d=a.saveSort!==!1,c={sortList:s.sortList};s.debug&&(o=new Date),l.hasClass("hasSaveSort")?d&&i.hasInitialized&&e.storage&&(e.storage(i,"tablesorter-savesort",c),s.debug&&e.benchmark("saveSort widget: Saving last sort: "+s.sortList,o)):(l.addClass("hasSaveSort"),c="",e.storage&&(n=e.storage(i,"tablesorter-savesort"),c=n&&n.hasOwnProperty("sortList")&&t.isArray(n.sortList)?n.sortList:"",s.debug&&e.benchmark('saveSort: Last sort loaded: "'+c+'"',o),l.bind("saveSortReset",function(t){t.stopPropagation(),e.storage(i,"tablesorter-savesort","")})),r&&c&&c.length>0?s.sortList=c:i.hasInitialized&&c&&c.length>0&&l.trigger("sorton",[c]))},remove:function(t){e.storage&&e.storage(t,"tablesorter-savesort","")}})}(jQuery),!function(t){"use strict";var e='[data-dismiss="alert"]',i=function(i){t(i).on("click",e,this.close)};i.prototype.close=function(e){function i(){s.trigger("closed").remove()}var s,a=t(this),r=a.attr("data-target");r||(r=a.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,"")),s=t(r),e&&e.preventDefault(),s.length||(s=a.hasClass("alert")?a:a.parent()),s.trigger(e=t.Event("close")),e.isDefaultPrevented()||(s.removeClass("in"),t.support.transition&&s.hasClass("fade")?s.on(t.support.transition.end,i):i())};var s=t.fn.alert;t.fn.alert=function(e){return this.each(function(){var s=t(this),a=s.data("alert");a||s.data("alert",a=new i(this)),"string"==typeof e&&a[e].call(s)})},t.fn.alert.Constructor=i,t.fn.alert.noConflict=function(){return t.fn.alert=s,this},t(document).on("click.alert.data-api",e,i.prototype.close)}(window.jQuery),!function(t){"use strict";var e=function(e,i){this.$element=t(e),this.options=t.extend({},t.fn.button.defaults,i)};e.prototype.setState=function(t){var e="disabled",i=this.$element,s=i.data(),a=i.is("input")?"val":"html";t+="Text",s.resetText||i.data("resetText",i[a]()),i[a](s[t]||this.options[t]),setTimeout(function(){"loadingText"==t?i.addClass(e).attr(e,e):i.removeClass(e).removeAttr(e)},0)},e.prototype.toggle=function(){var t=this.$element.closest('[data-toggle="buttons-radio"]');t&&t.find(".active").removeClass("active"),this.$element.toggleClass("active")};var i=t.fn.button;t.fn.button=function(i){return this.each(function(){var s=t(this),a=s.data("button"),r="object"==typeof i&&i;a||s.data("button",a=new e(this,r)),"toggle"==i?a.toggle():i&&a.setState(i)})},t.fn.button.defaults={loadingText:"loading..."},t.fn.button.Constructor=e,t.fn.button.noConflict=function(){return t.fn.button=i,this},t(document).on("click.button.data-api","[data-toggle^=button]",function(e){var i=t(e.target);i.hasClass("btn")||(i=i.closest(".btn")),i.button("toggle")})}(window.jQuery),!function(t){"use strict";var e=function(e,i){this.$element=t(e),this.options=t.extend({},t.fn.collapse.defaults,i),this.options.parent&&(this.$parent=t(this.options.parent)),this.options.toggle&&this.toggle()};e.prototype={constructor:e,dimension:function(){var t=this.$element.hasClass("width");return t?"width":"height"},show:function(){var e,i,s,a;if(!this.transitioning&&!this.$element.hasClass("in")){if(e=this.dimension(),i=t.camelCase(["scroll",e].join("-")),s=this.$parent&&this.$parent.find("> .accordion-group > .in"),s&&s.length){if(a=s.data("collapse"),a&&a.transitioning)return;s.collapse("hide"),a||s.data("collapse",null)}this.$element[e](0),this.transition("addClass",t.Event("show"),"shown"),t.support.transition&&this.$element[e](this.$element[0][i])}},hide:function(){var e;!this.transitioning&&this.$element.hasClass("in")&&(e=this.dimension(),this.reset(this.$element[e]()),this.transition("removeClass",t.Event("hide"),"hidden"),this.$element[e](0))},reset:function(t){var e=this.dimension();return this.$element.removeClass("collapse")[e](t||"auto")[0].offsetWidth,this.$element[null!==t?"addClass":"removeClass"]("collapse"),this},transition:function(e,i,s){var a=this,r=function(){"show"==i.type&&a.reset(),a.transitioning=0,a.$element.trigger(s)};this.$element.trigger(i),i.isDefaultPrevented()||(this.transitioning=1,this.$element[e]("in"),t.support.transition&&this.$element.hasClass("collapse")?this.$element.one(t.support.transition.end,r):r())},toggle:function(){this[this.$element.hasClass("in")?"hide":"show"]()}};var i=t.fn.collapse;t.fn.collapse=function(i){return this.each(function(){var s=t(this),a=s.data("collapse"),r=t.extend({},t.fn.collapse.defaults,s.data(),"object"==typeof i&&i);a||s.data("collapse",a=new e(this,r)),"string"==typeof i&&a[i]()})},t.fn.collapse.defaults={toggle:!0},t.fn.collapse.Constructor=e,t.fn.collapse.noConflict=function(){return t.fn.collapse=i,this},t(document).on("click.collapse.data-api","[data-toggle=collapse]",function(e){var i,s=t(this),a=s.attr("data-target")||e.preventDefault()||(i=s.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,""),r=t(a).data("collapse")?"toggle":s.data();s[t(a).hasClass("in")?"addClass":"removeClass"]("collapsed"),t(a).collapse(r)})}(window.jQuery),!function(t){"use strict";function e(){t(s).each(function(){i(t(this)).removeClass("open")})}function i(e){var i,s=e.attr("data-target");return s||(s=e.attr("href"),s=s&&/#/.test(s)&&s.replace(/.*(?=#[^\s]*$)/,"")),i=s&&t(s),i&&i.length||(i=e.parent()),i}var s="[data-toggle=dropdown]",a=function(e){var i=t(e).on("click.dropdown.data-api",this.toggle);t("html").on("click.dropdown.data-api",function(){i.parent().removeClass("open")})};a.prototype={constructor:a,toggle:function(){var s,a,r=t(this);if(!r.is(".disabled, :disabled"))return s=i(r),a=s.hasClass("open"),e(),a||s.toggleClass("open"),r.focus(),!1},keydown:function(e){var a,r,n,o,l;if(/(38|40|27)/.test(e.keyCode)&&(a=t(this),e.preventDefault(),e.stopPropagation(),!a.is(".disabled, :disabled"))){if(n=i(a),o=n.hasClass("open"),!o||o&&27==e.keyCode)return 27==e.which&&n.find(s).focus(),a.click();r=t("[role=menu] li:not(.divider):visible a",n),r.length&&(l=r.index(r.filter(":focus")),38==e.keyCode&&l>0&&l--,40==e.keyCode&&r.length-1>l&&l++,~l||(l=0),r.eq(l).focus())}}};var r=t.fn.dropdown;t.fn.dropdown=function(e){return this.each(function(){var i=t(this),s=i.data("dropdown");s||i.data("dropdown",s=new a(this)),"string"==typeof e&&s[e].call(i)})},t.fn.dropdown.Constructor=a,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=r,this},t(document).on("click.dropdown.data-api",e).on("click.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on(".dropdown-menu",function(t){t.stopPropagation()}).on("click.dropdown.data-api",s,a.prototype.toggle).on("keydown.dropdown.data-api",s+", [role=menu]",a.prototype.keydown)}(window.jQuery),!function(t){"use strict";var e=function(e,i){this.options=i,this.$element=t(e).delegate('[data-dismiss="modal"]',"click.dismiss.modal",t.proxy(this.hide,this)),this.options.remote&&this.$element.find(".modal-body").load(this.options.remote)};e.prototype={constructor:e,toggle:function(){return this[this.isShown?"hide":"show"]()},show:function(){var e=this,i=t.Event("show");this.$element.trigger(i),this.isShown||i.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.backdrop(function(){var i=t.support.transition&&e.$element.hasClass("fade");e.$element.parent().length||e.$element.appendTo(document.body),e.$element.show(),i&&e.$element[0].offsetWidth,e.$element.addClass("in").attr("aria-hidden",!1),e.enforceFocus(),i?e.$element.one(t.support.transition.end,function(){e.$element.focus().trigger("shown")}):e.$element.focus().trigger("shown")}))},hide:function(e){e&&e.preventDefault(),e=t.Event("hide"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),t(document).off("focusin.modal"),this.$element.removeClass("in").attr("aria-hidden",!0),t.support.transition&&this.$element.hasClass("fade")?this.hideWithTransition():this.hideModal())},enforceFocus:function(){var e=this;t(document).on("focusin.modal",function(t){e.$element[0]===t.target||e.$element.has(t.target).length||e.$element.focus()})},escape:function(){var t=this;this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.modal",function(e){27==e.which&&t.hide()}):this.isShown||this.$element.off("keyup.dismiss.modal")},hideWithTransition:function(){var e=this,i=setTimeout(function(){e.$element.off(t.support.transition.end),e.hideModal()},500);this.$element.one(t.support.transition.end,function(){clearTimeout(i),e.hideModal()})},hideModal:function(){var t=this;this.$element.hide(),this.backdrop(function(){t.removeBackdrop(),t.$element.trigger("hidden")})},removeBackdrop:function(){this.$backdrop.remove(),this.$backdrop=null},backdrop:function(e){var i=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var s=t.support.transition&&i;if(this.$backdrop=t('<div class="modal-backdrop '+i+'" />').appendTo(document.body),this.$backdrop.click("static"==this.options.backdrop?t.proxy(this.$element[0].focus,this.$element[0]):t.proxy(this.hide,this)),s&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;s?this.$backdrop.one(t.support.transition.end,e):e()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(t.support.transition.end,e):e()):e&&e()}};var i=t.fn.modal;t.fn.modal=function(i){return this.each(function(){var s=t(this),a=s.data("modal"),r=t.extend({},t.fn.modal.defaults,s.data(),"object"==typeof i&&i);a||s.data("modal",a=new e(this,r)),"string"==typeof i?a[i]():r.show&&a.show()})},t.fn.modal.defaults={backdrop:!0,keyboard:!0,show:!0},t.fn.modal.Constructor=e,t.fn.modal.noConflict=function(){return t.fn.modal=i,this},t(document).on("click.modal.data-api",'[data-toggle="modal"]',function(e){var i=t(this),s=i.attr("href"),a=t(i.attr("data-target")||s&&s.replace(/.*(?=#[^\s]+$)/,"")),r=a.data("modal")?"toggle":t.extend({remote:!/#/.test(s)&&s},a.data(),i.data());e.preventDefault(),a.modal(r).one("hide",function(){i.focus()})})}(window.jQuery),!function(t){"use strict";var e=function(t,e){this.init("tooltip",t,e)};e.prototype={constructor:e,init:function(e,i,s){var a,r,n,o,l;for(this.type=e,this.$element=t(i),this.options=this.getOptions(s),this.enabled=!0,n=this.options.trigger.split(" "),l=n.length;l--;)o=n[l],"click"==o?this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this)):"manual"!=o&&(a="hover"==o?"mouseenter":"focus",r="hover"==o?"mouseleave":"blur",this.$element.on(a+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(r+"."+this.type,this.options.selector,t.proxy(this.leave,this)));this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(e){return e=t.extend({},t.fn[this.type].defaults,this.$element.data(),e),e.delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},enter:function(e){var i=t(e.currentTarget)[this.type](this._options).data(this.type);return i.options.delay&&i.options.delay.show?(clearTimeout(this.timeout),i.hoverState="in",this.timeout=setTimeout(function(){"in"==i.hoverState&&i.show()},i.options.delay.show),void 0):i.show()},leave:function(e){var i=t(e.currentTarget)[this.type](this._options).data(this.type);return this.timeout&&clearTimeout(this.timeout),i.options.delay&&i.options.delay.hide?(i.hoverState="out",this.timeout=setTimeout(function(){"out"==i.hoverState&&i.hide()},i.options.delay.hide),void 0):i.hide()},show:function(){var e,i,s,a,r,n,o=t.Event("show");if(this.hasContent()&&this.enabled){if(this.$element.trigger(o),o.isDefaultPrevented())return;switch(e=this.tip(),this.setContent(),this.options.animation&&e.addClass("fade"),r="function"==typeof this.options.placement?this.options.placement.call(this,e[0],this.$element[0]):this.options.placement,e.detach().css({top:0,left:0,display:"block"}),this.options.container?e.appendTo(this.options.container):e.insertAfter(this.$element),i=this.getPosition(),s=e[0].offsetWidth,a=e[0].offsetHeight,r){case"bottom":n={top:i.top+i.height,left:i.left+i.width/2-s/2};break;case"top":n={top:i.top-a,left:i.left+i.width/2-s/2};break;case"left":n={top:i.top+i.height/2-a/2,left:i.left-s};break;case"right":n={top:i.top+i.height/2-a/2,left:i.left+i.width}}this.applyPlacement(n,r),this.$element.trigger("shown")}},applyPlacement:function(t,e){var i,s,a,r,n=this.tip(),o=n[0].offsetWidth,l=n[0].offsetHeight;n.offset(t).addClass(e).addClass("in"),i=n[0].offsetWidth,s=n[0].offsetHeight,"top"==e&&s!=l&&(t.top=t.top+l-s,r=!0),"bottom"==e||"top"==e?(a=0,0>t.left&&(a=-2*t.left,t.left=0,n.offset(t),i=n[0].offsetWidth,s=n[0].offsetHeight),this.replaceArrow(a-o+i,i,"left")):this.replaceArrow(s-l,s,"top"),r&&n.offset(t)},replaceArrow:function(t,e,i){this.arrow().css(i,t?50*(1-t/e)+"%":"")},setContent:function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},hide:function(){function e(){var e=setTimeout(function(){i.off(t.support.transition.end).detach()},500);i.one(t.support.transition.end,function(){clearTimeout(e),i.detach()})}var i=this.tip(),s=t.Event("hide");return this.$element.trigger(s),s.isDefaultPrevented()?void 0:(i.removeClass("in"),t.support.transition&&this.$tip.hasClass("fade")?e():i.detach(),this.$element.trigger("hidden"),this)},fixTitle:function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},hasContent:function(){return this.getTitle()},getPosition:function(){var e=this.$element[0];return t.extend({},"function"==typeof e.getBoundingClientRect?e.getBoundingClientRect():{width:e.offsetWidth,height:e.offsetHeight},this.$element.offset())},getTitle:function(){var t,e=this.$element,i=this.options;return t=e.attr("data-original-title")||("function"==typeof i.title?i.title.call(e[0]):i.title)},tip:function(){return this.$tip=this.$tip||t(this.options.template)},arrow:function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(e){var i=e?t(e.currentTarget)[this.type](this._options).data(this.type):this;i.tip().hasClass("in")?i.hide():i.show()},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}};var i=t.fn.tooltip;t.fn.tooltip=function(i){return this.each(function(){var s=t(this),a=s.data("tooltip"),r="object"==typeof i&&i;a||s.data("tooltip",a=new e(this,r)),"string"==typeof i&&a[i]()})},t.fn.tooltip.Constructor=e,t.fn.tooltip.defaults={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},t.fn.tooltip.noConflict=function(){return t.fn.tooltip=i,this}}(window.jQuery),!function(t){"use strict";var e=function(t,e){this.init("popover",t,e)};e.prototype=t.extend({},t.fn.tooltip.Constructor.prototype,{constructor:e,setContent:function(){var t=this.tip(),e=this.getTitle(),i=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content")[this.options.html?"html":"text"](i),t.removeClass("fade top bottom left right in")},hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var t,e=this.$element,i=this.options;return t=("function"==typeof i.content?i.content.call(e[0]):i.content)||e.attr("data-content")},tip:function(){return this.$tip||(this.$tip=t(this.options.template)),this.$tip},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}});var i=t.fn.popover;t.fn.popover=function(i){return this.each(function(){var s=t(this),a=s.data("popover"),r="object"==typeof i&&i;a||s.data("popover",a=new e(this,r)),"string"==typeof i&&a[i]()})},t.fn.popover.Constructor=e,t.fn.popover.defaults=t.extend({},t.fn.tooltip.defaults,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),t.fn.popover.noConflict=function(){return t.fn.popover=i,this}}(window.jQuery),!function(t){"use strict";var e=function(e){this.element=t(e)};e.prototype={constructor:e,show:function(){var e,i,s,a=this.element,r=a.closest("ul:not(.dropdown-menu)"),n=a.attr("data-target");n||(n=a.attr("href"),n=n&&n.replace(/.*(?=#[^\s]*$)/,"")),a.parent("li").hasClass("active")||(e=r.find(".active:last a")[0],s=t.Event("show",{relatedTarget:e}),a.trigger(s),s.isDefaultPrevented()||(i=t(n),this.activate(a.parent("li"),r),this.activate(i,i.parent(),function(){a.trigger({type:"shown",relatedTarget:e})})))},activate:function(e,i,s){function a(){r.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),e.addClass("active"),n?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu")&&e.closest("li.dropdown").addClass("active"),s&&s()}var r=i.find("> .active"),n=s&&t.support.transition&&r.hasClass("fade");n?r.one(t.support.transition.end,a):a(),r.removeClass("in")}};var i=t.fn.tab;t.fn.tab=function(i){return this.each(function(){var s=t(this),a=s.data("tab");a||s.data("tab",a=new e(this)),"string"==typeof i&&a[i]()})},t.fn.tab.Constructor=e,t.fn.tab.noConflict=function(){return t.fn.tab=i,this},t(document).on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(e){e.preventDefault(),t(this).tab("show")
})}(window.jQuery),!function(t){"use strict";function e(e,i){var s,a=t.proxy(this.process,this),r=t(e).is("body")?t(window):t(e);this.options=t.extend({},t.fn.scrollspy.defaults,i),this.$scrollElement=r.on("scroll.scroll-spy.data-api",a),this.selector=(this.options.target||(s=t(e).attr("href"))&&s.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.$body=t("body"),this.refresh(),this.process()}e.prototype={constructor:e,refresh:function(){var e,i=this;this.offsets=t([]),this.targets=t([]),e=this.$body.find(this.selector).map(function(){var e=t(this),s=e.data("target")||e.attr("href"),a=/^#\w/.test(s)&&t(s);return a&&a.length&&[[a.position().top+(!t.isWindow(i.$scrollElement.get(0))&&i.$scrollElement.scrollTop()),s]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){i.offsets.push(this[0]),i.targets.push(this[1])})},process:function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,i=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,s=i-this.$scrollElement.height(),a=this.offsets,r=this.targets,n=this.activeTarget;if(e>=s)return n!=(t=r.last()[0])&&this.activate(t);for(t=a.length;t--;)n!=r[t]&&e>=a[t]&&(!a[t+1]||a[t+1]>=e)&&this.activate(r[t])},activate:function(e){var i,s;this.activeTarget=e,t(this.selector).parent(".active").removeClass("active"),s=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',i=t(s).parent("li").addClass("active"),i.parent(".dropdown-menu").length&&(i=i.closest("li.dropdown").addClass("active")),i.trigger("activate")}};var i=t.fn.scrollspy;t.fn.scrollspy=function(i){return this.each(function(){var s=t(this),a=s.data("scrollspy"),r="object"==typeof i&&i;a||s.data("scrollspy",a=new e(this,r)),"string"==typeof i&&a[i]()})},t.fn.scrollspy.Constructor=e,t.fn.scrollspy.defaults={offset:10},t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=i,this},t(window).on("load",function(){t('[data-spy="scroll"]').each(function(){var e=t(this);e.scrollspy(e.data())})})}(window.jQuery),!function(t){"use strict";var e=function(e,i){this.options=t.extend({},t.fn.affix.defaults,i),this.$window=t(window).on("scroll.affix.data-api",t.proxy(this.checkPosition,this)).on("click.affix.data-api",t.proxy(function(){setTimeout(t.proxy(this.checkPosition,this),1)},this)),this.$element=t(e),this.checkPosition()};e.prototype.checkPosition=function(){if(this.$element.is(":visible")){var e,i=t(document).height(),s=this.$window.scrollTop(),a=this.$element.offset(),r=this.options.offset,n=r.bottom,o=r.top,l="affix affix-top affix-bottom";"object"!=typeof r&&(n=o=r),"function"==typeof o&&(o=r.top()),"function"==typeof n&&(n=r.bottom()),e=null!=this.unpin&&s+this.unpin<=a.top?!1:null!=n&&a.top+this.$element.height()>=i-n?"bottom":null!=o&&o>=s?"top":!1,this.affixed!==e&&(this.affixed=e,this.unpin="bottom"==e?a.top-s:null,this.$element.removeClass(l).addClass("affix"+(e?"-"+e:"")))}};var i=t.fn.affix;t.fn.affix=function(i){return this.each(function(){var s=t(this),a=s.data("affix"),r="object"==typeof i&&i;a||s.data("affix",a=new e(this,r)),"string"==typeof i&&a[i]()})},t.fn.affix.Constructor=e,t.fn.affix.defaults={offset:0},t.fn.affix.noConflict=function(){return t.fn.affix=i,this},t(window).on("load",function(){t('[data-spy="affix"]').each(function(){var e=t(this),i=e.data();i.offset=i.offset||{},i.offsetBottom&&(i.offset.bottom=i.offsetBottom),i.offsetTop&&(i.offset.top=i.offsetTop),e.affix(i)})})}(window.jQuery),!function(t){var e=function(e,s){if(this.element=t(e),this.format=i.parseFormat(s.format||this.element.data("date-format")||"mm/dd/yyyy"),this.picker=t(i.template).appendTo("body").on({click:t.proxy(this.click,this)}),this.isInput=this.element.is("input"),this.component=this.element.is(".date")?this.element.find(".add-on"):!1,this.isInput?this.element.on({focus:t.proxy(this.show,this),keyup:t.proxy(this.update,this)}):this.component?this.component.on("click",t.proxy(this.show,this)):this.element.on("click",t.proxy(this.show,this)),this.minViewMode=s.minViewMode||this.element.data("date-minviewmode")||0,"string"==typeof this.minViewMode)switch(this.minViewMode){case"months":this.minViewMode=1;break;case"years":this.minViewMode=2;break;default:this.minViewMode=0}if(this.viewMode=s.viewMode||this.element.data("date-viewmode")||0,"string"==typeof this.viewMode)switch(this.viewMode){case"months":this.viewMode=1;break;case"years":this.viewMode=2;break;default:this.viewMode=0}this.startViewMode=this.viewMode,this.weekStart=s.weekStart||this.element.data("date-weekstart")||0,this.weekEnd=0===this.weekStart?6:this.weekStart-1,this.onRender=s.onRender,this.fillDow(),this.fillMonths(),this.update(),this.showMode()};e.prototype={constructor:e,show:function(e){this.picker.show(),this.height=this.component?this.component.outerHeight():this.element.outerHeight(),this.place(),t(window).on("resize",t.proxy(this.place,this)),e&&(e.stopPropagation(),e.preventDefault()),!this.isInput;var i=this;t(document).on("mousedown",function(e){0==t(e.target).closest(".datepicker").length&&i.hide()}),this.element.trigger({type:"show",date:this.date})},hide:function(){this.picker.hide(),t(window).off("resize",this.place),this.viewMode=this.startViewMode,this.showMode(),this.isInput||t(document).off("mousedown",this.hide),this.element.trigger({type:"hide",date:this.date})},set:function(){var t=i.formatDate(this.date,this.format);this.isInput?this.element.prop("value",t):(this.component&&this.element.find("input").prop("value",t),this.element.data("date",t))},setValue:function(t){this.date="string"==typeof t?i.parseDate(t,this.format):new Date(t),this.set(),this.viewDate=new Date(this.date.getFullYear(),this.date.getMonth(),1,0,0,0,0),this.fill()},place:function(){var t=this.component?this.component.offset():this.element.offset();this.picker.css({top:t.top+this.height,left:t.left})},update:function(t){this.date=i.parseDate("string"==typeof t?t:this.isInput?this.element.prop("value"):this.element.data("date"),this.format),this.viewDate=new Date(this.date.getFullYear(),this.date.getMonth(),1,0,0,0,0),this.fill()},fillDow:function(){for(var t=this.weekStart,e="<tr>";this.weekStart+7>t;)e+='<th class="dow">'+i.dates.daysMin[t++%7]+"</th>";e+="</tr>",this.picker.find(".datepicker-days thead").append(e)},fillMonths:function(){for(var t="",e=0;12>e;)t+='<span class="month">'+i.dates.monthsShort[e++]+"</span>";this.picker.find(".datepicker-months td").append(t)},fill:function(){var t=new Date(this.viewDate),e=t.getFullYear(),s=t.getMonth(),a=this.date.valueOf();this.picker.find(".datepicker-days th:eq(1)").text(i.dates.months[s]+" "+e);var r=new Date(e,s-1,28,0,0,0,0),n=i.getDaysInMonth(r.getFullYear(),r.getMonth());r.setDate(n),r.setDate(n-(r.getDay()-this.weekStart+7)%7);var o=new Date(r);o.setDate(o.getDate()+42),o=o.valueOf();for(var l,d,c,h=[];o>r.valueOf();)r.getDay()===this.weekStart&&h.push("<tr>"),l=this.onRender(r),d=r.getFullYear(),c=r.getMonth(),s>c&&d===e||e>d?l+=" old":(c>s&&d===e||d>e)&&(l+=" new"),r.valueOf()===a&&(l+=" active"),h.push('<td class="day '+l+'">'+r.getDate()+"</td>"),r.getDay()===this.weekEnd&&h.push("</tr>"),r.setDate(r.getDate()+1);this.picker.find(".datepicker-days tbody").empty().append(h.join(""));var f=this.date.getFullYear(),p=this.picker.find(".datepicker-months").find("th:eq(1)").text(e).end().find("span").removeClass("active");f===e&&p.eq(this.date.getMonth()).addClass("active"),h="",e=10*parseInt(e/10,10);var u=this.picker.find(".datepicker-years").find("th:eq(1)").text(e+"-"+(e+9)).end().find("td");e-=1;for(var g=-1;11>g;g++)h+='<span class="year'+(-1===g||10===g?" old":"")+(f===e?" active":"")+'">'+e+"</span>",e+=1;u.html(h)},click:function(e){e.stopPropagation(),e.preventDefault();var s=t(e.target).closest("span, td, th");if(1===s.length)switch(s[0].nodeName.toLowerCase()){case"th":switch(s[0].className){case"switch":this.showMode(1);break;case"prev":case"next":this.viewDate["set"+i.modes[this.viewMode].navFnc].call(this.viewDate,this.viewDate["get"+i.modes[this.viewMode].navFnc].call(this.viewDate)+i.modes[this.viewMode].navStep*("prev"===s[0].className?-1:1)),this.fill(),this.set()}break;case"span":if(s.is(".month")){var a=s.parent().find("span").index(s);this.viewDate.setMonth(a)}else{var r=parseInt(s.text(),10)||0;this.viewDate.setFullYear(r)}0!==this.viewMode&&(this.date=new Date(this.viewDate),this.element.trigger({type:"changeDate",date:this.date,viewMode:i.modes[this.viewMode].clsName})),this.showMode(-1),this.fill(),this.set();break;case"td":if(s.is(".day")&&!s.is(".disabled")){var n=parseInt(s.text(),10)||1,a=this.viewDate.getMonth();s.is(".old")?a-=1:s.is(".new")&&(a+=1);var r=this.viewDate.getFullYear();this.date=new Date(r,a,n,0,0,0,0),this.viewDate=new Date(r,a,Math.min(28,n),0,0,0,0),this.fill(),this.set(),this.element.trigger({type:"changeDate",date:this.date,viewMode:i.modes[this.viewMode].clsName})}}},mousedown:function(t){t.stopPropagation(),t.preventDefault()},showMode:function(t){t&&(this.viewMode=Math.max(this.minViewMode,Math.min(2,this.viewMode+t))),this.picker.find(">div").hide().filter(".datepicker-"+i.modes[this.viewMode].clsName).show()}},t.fn.datepicker=function(i,s){return this.each(function(){var a=t(this),r=a.data("datepicker"),n="object"==typeof i&&i;r||a.data("datepicker",r=new e(this,t.extend({},t.fn.datepicker.defaults,n))),"string"==typeof i&&r[i](s)})},t.fn.datepicker.defaults={onRender:function(){return""}},t.fn.datepicker.Constructor=e;var i={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],dates:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},isLeapYear:function(t){return 0===t%4&&0!==t%100||0===t%400},getDaysInMonth:function(t,e){return[31,i.isLeapYear(t)?29:28,31,30,31,30,31,31,30,31,30,31][e]},parseFormat:function(t){var e=t.match(/[.\/\-\s].*?/),i=t.split(/\W+/);if(!e||!i||0===i.length)throw Error("Invalid date format.");return{separator:e,parts:i}},parseDate:function(t,e){var i,s=t.split(e.separator),t=new Date;if(t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),s.length===e.parts.length){for(var a=t.getFullYear(),r=t.getDate(),n=t.getMonth(),o=0,l=e.parts.length;l>o;o++)switch(i=parseInt(s[o],10)||1,e.parts[o]){case"dd":case"d":r=i,t.setDate(i);break;case"mm":case"m":n=i-1,t.setMonth(i-1);break;case"yy":a=2e3+i,t.setFullYear(2e3+i);break;case"yyyy":a=i,t.setFullYear(i)}t=new Date(a,n,r,0,0,0)}return t},formatDate:function(t,e){var i={d:t.getDate(),m:t.getMonth()+1,yy:(""+t.getFullYear()).substring(2),yyyy:t.getFullYear()};i.dd=(10>i.d?"0":"")+i.d,i.mm=(10>i.m?"0":"")+i.m;for(var t=[],s=0,a=e.parts.length;a>s;s++)t.push(i[e.parts[s]]);return t.join(e.separator)},headTemplate:'<thead><tr><th class="prev">&lsaquo;</th><th colspan="5" class="switch"></th><th class="next">&rsaquo;</th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>'};i.template='<div class="datepicker dropdown-menu"><div class="datepicker-days"><table class=" table-condensed">'+i.headTemplate+"<tbody></tbody>"+"</table>"+"</div>"+'<div class="datepicker-months">'+'<table class="table-condensed">'+i.headTemplate+i.contTemplate+"</table>"+"</div>"+'<div class="datepicker-years">'+'<table class="table-condensed">'+i.headTemplate+i.contTemplate+"</table>"+"</div>"+"</div>"}(window.jQuery);var Handlebars={};(function(t,e){t.VERSION="1.0.0",t.COMPILER_REVISION=4,t.REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:">= 1.0.0"},t.helpers={},t.partials={};var i=Object.prototype.toString,s="[object Function]",a="[object Object]";t.registerHelper=function(e,s,r){if(i.call(e)===a){if(r||s)throw new t.Exception("Arg not supported with multiple helpers");t.Utils.extend(this.helpers,e)}else r&&(s.not=r),this.helpers[e]=s},t.registerPartial=function(e,s){i.call(e)===a?t.Utils.extend(this.partials,e):this.partials[e]=s},t.registerHelper("helperMissing",function(t){if(2===arguments.length)return e;throw Error("Missing helper: '"+t+"'")}),t.registerHelper("blockHelperMissing",function(e,a){var r=a.inverse||function(){},n=a.fn,o=i.call(e);return o===s&&(e=e.call(this)),e===!0?n(this):e===!1||null==e?r(this):"[object Array]"===o?e.length>0?t.helpers.each(e,a):r(this):n(e)}),t.K=function(){},t.createFrame=Object.create||function(e){t.K.prototype=e;var i=new t.K;return t.K.prototype=null,i},t.logger={DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,methodMap:{0:"debug",1:"info",2:"warn",3:"error"},log:function(e,i){if(e>=t.logger.level){var s=t.logger.methodMap[e];"undefined"!=typeof console&&console[s]&&console[s].call(console,i)}}},t.log=function(e,i){t.logger.log(e,i)},t.registerHelper("each",function(e,a){var r,n=a.fn,o=a.inverse,l=0,d="",c=i.call(e);if(c===s&&(e=e.call(this)),a.data&&(r=t.createFrame(a.data)),e&&"object"==typeof e)if(e instanceof Array)for(var h=e.length;h>l;l++)r&&(r.index=l),d+=n(e[l],{data:r});else for(var f in e)e.hasOwnProperty(f)&&(r&&(r.key=f),d+=n(e[f],{data:r}),l++);return 0===l&&(d=o(this)),d}),t.registerHelper("if",function(e,a){var r=i.call(e);return r===s&&(e=e.call(this)),!e||t.Utils.isEmpty(e)?a.inverse(this):a.fn(this)}),t.registerHelper("unless",function(e,i){return t.helpers["if"].call(this,e,{fn:i.inverse,inverse:i.fn})}),t.registerHelper("with",function(a,r){var n=i.call(a);return n===s&&(a=a.call(this)),t.Utils.isEmpty(a)?e:r.fn(a)}),t.registerHelper("log",function(e,i){var s=i.data&&null!=i.data.level?parseInt(i.data.level,10):1;t.log(s,e)});var r=["description","fileName","lineNumber","message","name","number","stack"];t.Exception=function(){for(var t=Error.prototype.constructor.apply(this,arguments),e=0;r.length>e;e++)this[r[e]]=t[r[e]]},t.Exception.prototype=Error(),t.SafeString=function(t){this.string=t},t.SafeString.prototype.toString=function(){return""+this.string};var n={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},o=/[&<>"'`]/g,l=/[&<>"'`]/,d=function(t){return n[t]||"&amp;"};t.Utils={extend:function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},escapeExpression:function(e){return e instanceof t.SafeString?""+e:null==e||e===!1?"":(e=""+e,l.test(e)?e.replace(o,d):e)},isEmpty:function(t){return t||0===t?"[object Array]"===i.call(t)&&0===t.length?!0:!1:!0}},t.VM={template:function(e){var i={escapeExpression:t.Utils.escapeExpression,invokePartial:t.VM.invokePartial,programs:[],program:function(e,i,s){var a=this.programs[e];return s?a=t.VM.program(e,i,s):a||(a=this.programs[e]=t.VM.program(e,i)),a},merge:function(e,i){var s=e||i;return e&&i&&(s={},t.Utils.extend(s,i),t.Utils.extend(s,e)),s},programWithDepth:t.VM.programWithDepth,noop:t.VM.noop,compilerInfo:null};return function(s,a){a=a||{};var r=e.call(i,t,s,a.helpers,a.partials,a.data),n=i.compilerInfo||[],o=n[0]||1,l=t.COMPILER_REVISION;if(o!==l){if(l>o){var d=t.REVISION_CHANGES[l],c=t.REVISION_CHANGES[o];throw"Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+d+") or downgrade your runtime to an older version ("+c+")."}throw"Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+n[1]+")."}return r}},programWithDepth:function(t,e,i){var s=Array.prototype.slice.call(arguments,3),a=function(t,a){return a=a||{},e.apply(this,[t,a.data||i].concat(s))};return a.program=t,a.depth=s.length,a},program:function(t,e,i){var s=function(t,s){return s=s||{},e(t,s.data||i)};return s.program=t,s.depth=0,s},noop:function(){return""},invokePartial:function(i,s,a,r,n,o){var l={helpers:r,partials:n,data:o};if(i===e)throw new t.Exception("The partial "+s+" could not be found");if(i instanceof Function)return i(a,l);if(t.compile)return n[s]=t.compile(i,{data:o!==e}),n[s](a,l);throw new t.Exception("The partial "+s+" could not be compiled when running in runtime-only mode")}},t.template=t.VM.template})(Handlebars),function(){var t=Handlebars.template,e=Handlebars.templates=Handlebars.templates||{};e.mail_list=t(function(t,e,i,s,a){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,t.helpers),a=a||{};var r,n="",o="function",l=this.escapeExpression;return n+="                  <tr",(r=i.rowClass)?r=r.call(e,{hash:{},data:a}):(r=e.rowClass,r=typeof r===o?r.apply(e):r),n+=l(r)+'>\n                    <td class="mail-checkbox"><input type="checkbox"></td>\n                    <td class="mail-from">',(r=i.senderText)?r=r.call(e,{hash:{},data:a}):(r=e.senderText,r=typeof r===o?r.apply(e):r),n+=l(r)+'</td>\n                    <td class="mail-to">',(r=i.toText)?r=r.call(e,{hash:{},data:a}):(r=e.toText,r=typeof r===o?r.apply(e):r),n+=l(r)+'</td>\n                    <td><a class="mail-link" href="#',(r=i.message_id)?r=r.call(e,{hash:{},data:a}):(r=e.message_id,r=typeof r===o?r.apply(e):r),n+=l(r)+'">',(r=i.subjectText)?r=r.call(e,{hash:{},data:a}):(r=e.subjectText,r=typeof r===o?r.apply(e):r),n+=l(r)+'</a></td>\n                    <td class="mail-date">',(r=i.sent_date)?r=r.call(e,{hash:{},data:a}):(r=e.sent_date,r=typeof r===o?r.apply(e):r),n+=l(r)+"</td>\n                  </tr>\n"})}(),jQuery.ajaxSettings.traditional=!0;var EVEthing={util:{sorted_keys:function(t){var e=[];for(var i in t)e.push(i);return e.sort()},sorted_keys_by_value:function(t){var e=[];for(var i in t)e.push(i);return e.sort(function(e,i){return t[e]<t[i]?-1:t[e]>t[i]?1:0})}},misc:{setClock:function(){var t=new Date,e=t.getUTCHours();10>e&&(e="0"+e);var i=t.getUTCMinutes();10>i&&(i="0"+i),$("#utc-time").text(e+":"+i)},setup_tab_hash:function(){var t="tab_",e=document.location.hash;e&&$(".nav-tabs a[href="+e.replace("#","#"+t)+"]").tab("show"),$('a[data-toggle="tab"]').on("shown",function(e){window.location.hash=e.target.hash.replace("#"+t,"#")})}}};$(document).ready(function(){var t=window.location.pathname;$("#nav-list li a").each(function(){$(this).attr("href")==t&&$(this).parent().addClass("active")}),$("[rel=tooltip]").tooltip(),$(".dropdown-toggle").dropdown(),$(".skill-hover").popover({animation:!1,trigger:"hover",html:!0}),EVEthing.misc.setClock(),window.setInterval(EVEthing.misc.setClock,5e3)}),$.tablesorter.addParser({id:"human",is:function(t){return/^[0-9\,\.]+[KMB]?$/.test(t)},format:function(t){var t=t.replace(/\,/g,""),e=t.length-1,i=t.charAt(e);return"K"==i?1e3*t.substr(0,e):"M"==i?1e6*t.substr(0,e):"B"==i?1e9*t.substr(0,e):t},type:"numeric"}),$.extend($.tablesorter.themes.bootstrap,{icons:"",sortNone:"icon-sort",sortAsc:"icon-caret-up",sortDesc:"icon-caret-down"}),parseUri.options={strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},Handlebars.getTemplate=function(t){return(void 0===Handlebars.templates||void 0===Handlebars.templates[t])&&$.ajax({url:"/static/handlebars/"+t+".handlebars",success:function(e){void 0===Handlebars.templates&&(Handlebars.templates={}),Handlebars.templates[t]=Handlebars.compile(e)},async:!1}),Handlebars.templates[t]},EVEthing.account={savedTD:null,savedHTML:null,masks:{2:"AssetList",8:"CharacterSheet",128:"IndustryJobs",4096:"MarketOrders",262144:"SkillQueue",524288:"Standings",2097152:"WalletJournal",4194304:"WalletTransactions",33554432:"AccountStatus",67108864:"Contracts",134217728:"Locations"},onload:function(){EVEthing.misc.setup_tab_hash(),$("#key-table").on("click",".js-edit-name, .js-edit-group-name",function(){$("#key-table form").remove(),$(this).parents("tr").attr("data-id"),$(this).parent().text(),EVEthing.account.savedTD&&($(EVEthing.account.savedTD).html(EVEthing.account.savedHTML),EVEthing.account.savedTD=null,EVEthing.account.savedHTML=null),EVEthing.account.savedTD=$(this).parent(),EVEthing.account.savedHTML=EVEthing.account.savedTD.html(),$(this).hasClass("js-edit-group-name");var t=[];$(this).parent().html(t.join("")),$("#magic_keyname").focus()}),$("#key-table").on("click",".js-delete",function(){var t=$(this).parents("tr").attr("data-id"),e=$.trim($("td:nth-child(5)",$(this).parents("tr")).text());$("#delete-keyid-input").val(t),$("#delete-keyid").text(t),$("#delete-keyname").text(e)}),$("#key-table").on("click",".js-purge",function(){var t=$(this).parents("tr").attr("data-id"),e=$.trim($("td:nth-child(5)",$(this).parents("tr")).text());$("#purge-keyid-input").val(t),$("#purge-keyid").text(t),$("#purge-keyname").text(e)}),$(".edit-skillplan").on("click",function(){var t=$(this).parents("tr").attr("data-id"),e=$("td:nth-child(2)",$(this).parents("tr")).text(),i=$(this).parents("tr").attr("data-vis");$("#edit-skillplan-id").val(t),$("#edit-skillplan-name").val(e),$("#edit-skillplan-visibility").val(i)}),$(".delete-skillplan").on("click",function(){var t=$(this).parents("tr").attr("data-id"),e=$("td:nth-child(2)",$(this).parents("tr")).text();$("#delete-skillplan-id").val(t),$("#delete-skillplan-name").text(e)}),$("#build-table").on("change",".apikey-build",EVEthing.account.build_apikey),EVEthing.account.build_apikey()},build_apikey:function(){$("#apikey-required").empty();var t=0;$(".apikey-build:checked").each(function(){masks=$(this).attr("data-masks").split(";");for(i in masks)mask=parseInt(masks[i]),0==(t&mask)&&(t+=mask,$("#apikey-required").append("<li>"+EVEthing.account.masks[mask]+"</li>"))}),$("#apikey-link").attr("href","https://community.eveonline.com/support/api-key/CreatePredefined?accessMask="+t),0==t&&$("#apikey-required").append("<li>None</li>")}},EVEthing.assets={onload:function(){EVEthing.filters.bind_events(),EVEthing.filters.load_filters(EVEthing.assets.filters),$("#sidenav").affix({offset:EVEthing.assets.sidenav_offset})},filter_onload:function(){$(".asset-expand").on("click",function(){var t=$(this);t.hasClass("icon-chevron-right")?(t.addClass("icon-chevron-down").removeClass("icon-chevron-right"),$(t.attr("data-target")).show()):(t.addClass("icon-chevron-right").removeClass("icon-chevron-down"),$(t.attr("data-target")).hide())}),$(".asset-eft").on("click",function(){var t=$(this),e=$("i:nth-child(1)",t.parent()).attr("data-target"),i=$.trim($(".asset-ship-type",t.parent()).text()),s=$.trim($(".asset-ship-name",t.parent()).text());s||(s="From Assets");var a=null,r="["+i+", "+s+"]\n";$(e).each(function(){var t=$.trim($("td:nth-child(4)",$(this)).text());if("Slot"==t.substr(-4)){a&&a!=t&&(r+="\n"),a=t;var e=$.trim($("td:nth-child(2)",$(this)).text());r+=e+"\n"}}),$("#eft-textarea").val(r),$("#eft-modal").modal("show")}),$("#eft-modal").on("shown",function(){$("#eft-textarea").select()})},sidenav_offset:{top:function(){var t=$(window).height(),e=$("#sidenav").height();return t>=e+75?$("#total").offset().top:999999}}},EVEthing.blueprints={onload:function(){$("#checkall").toggle(function(){$('#blueprints-table [type="checkbox"]').attr("checked","checked")},function(){$('#blueprints-table [type="checkbox"]').removeAttr("checked")}),$(".bp-edit").on("click",function(){$tr=$(this).parents("tr"),$("#bp-edit-bpi_id").attr("value",$tr.find("td").eq(0).text()),$("#bp-edit-name").val($tr.find("td").eq(1).text()),$("#bp-edit-ml").val($tr.find("td").eq(3).text()),$("#bp-edit-pl").val($tr.find("td").eq(4).text()),$("#edit-blueprint").modal("show")}),$(".bp-delete").on("click",function(){$tr=$(this).parents("tr"),$("#bp-del-bpi_id").attr("value",$tr.find("td").eq(0).text()),$("#bp-del-id").text($tr.find("td").eq(0).text()),$("#bp-del-name").text($tr.find("td").eq(1).text()),$("#bp-del-type").text($tr.find("td").eq(2).text()),$("#bp-del-ml").text($tr.find("td").eq(3).text()),$("#bp-del-pl").text($tr.find("td").eq(4).text()),$("#del-blueprint").modal("show")})}},EVEthing.bpcalc={onload:function(){$("#build-table").tablesorter({headers:{1:{sorter:!1},2:{sorter:"human"},3:{sorter:"human"},4:{sorter:!1},5:{sorter:"human"},7:{sorter:!1},8:{sorter:"human"},10:{sorter:!1},11:{sorter:!1},12:{sorter:!1},13:{sorter:!1},14:{sorter:!1},15:{sorter:!1}},sortList:[[8,1]]})},filter_profit:function(){var t=[],e=$("#profit").attr("value");$("#build-table tbody tr").each(function(i,s){var a=$(s).children()[9],r=parseFloat($(a).text().split("%")[0]);r>=e&&t.push("bpi="+$(s).attr("data_bpi"))});var i=parseUri(window.location.href),s=i.queryKey.days;window.location=i.path+"?days="+s+"&"+t.join("&")},filter_movement:function(){var t=[],e=$("#movement").attr("value");$("#build-table tbody tr").each(function(i,s){var a=$(s).children()[14],r=parseFloat($(a).text().split("%")[0]);e>r&&t.push("bpi="+$(s).attr("data_bpi"))});var i=parseUri(window.location.href),s=i.queryKey.days;window.location=i.path+"?days="+s+"&"+t.join("&")},filter_slots:function(){var t=[],e=$("#slots").val();$("#build-table tbody tr").each(function(i,s){e>i&&t.push("bpi="+$(s).attr("data_bpi"))});var i=parseUri(window.location.href),s=i.queryKey.days;window.location=i.path+"?days="+s+"&"+t.join("&")},filter_checked:function(){var t=[];$("#build-table tbody tr td input").each(function(e,i){i.checked||t.push("bpi="+$(i).closest("tr").attr("data_bpi"))});var e=parseUri(window.location.href),i=e.queryKey.days;window.location=e.path+"?days="+i+"&"+t.join("&")}},EVEthing.character={anon_checked:null,onload:function(){EVEthing.misc.setup_tab_hash(),$("#public-checkbox").change(EVEthing.character.public_checkbox_change),EVEthing.character.public_checkbox_change(),$("#anon-toggle").change(EVEthing.character.anon_toggle),EVEthing.character.anon_toggle($("#anon-toggle")),$("#settings-form").on("submit",EVEthing.character.settings_submit)},public_checkbox_change:function(){this.checked?$(".disable-toggle").removeAttr("disabled"):$(".disable-toggle").attr("disabled","disabled")},anon_toggle:function(){if($("#anon-toggle").is(":checked")){var t=$("#anon-key").val();if(""!==t){var e='<a href="'+EVEthing.character.anon_url.replace("zzzz",t)+'">Anonymized link</a>';$("#anon-key-label").html(e)}else $("#anon-key-label").html('<i class="icon-anchor"></i> Save to get new link')}else $("#anon-key-label").empty()},settings_submit:function(t){return t.preventDefault&&t.preventDefault(),$("#settings-status").html('<i class="icon-spinner icon-spin"></i> Saving...'),$.post($(this).attr("action"),$(this).serialize(),function(t){"object"==typeof t?($("#anon-key").val(t.anon_key),$("#settings-status").html('<i class="icon-ok"></i> Saved!'),EVEthing.character.anon_toggle()):$("#settings-status").html('<i class="icon-remove"></i> Error!')}),!1}},EVEthing.filters={comparisons:{eq:"==",ne:"!=",gt:">",gte:">=",lt:"<",lte:"<=","in":"contains",bt:"between"},bind_events:function(){$("#filters").on("click",".js-add",function(){$("#filters").append(EVEthing.filters.build()),$(".date").datepicker()}),$("#filters").on("click",".js-delete",function(){$(this).parent().remove(),0==$(".filter-type").length&&$("#filters").append(EVEthing.filters.build())}),$("#filters").on("change",".filter-type",function(){var t=$(this);t.siblings("select, input").remove(),t.after(EVEthing.filters.build_comparison(t.val(),void 0));var e=t.next();e.after(EVEthing.filters.build_value(t.val(),e.val(),"")),$(".date").datepicker()}),$("#filters").on("change",".filter-comp",function(){var t=$(this).prev(),e=$(this),i=e.next(),s=e.val();("in"===s&&!i.is("input")||"bt"===s||"in"!==s&&"bt"!==s&&!i.is("select"))&&(i.remove(),e.after(EVEthing.filters.build_value(t.val(),e.val(),"")),$(".date").datepicker())}),$("#filters").on("changeDate",".date",function(){var t=$("span:first",$(this).parent().parent()),e=[];$.each($('input[type="text"]',t),function(t,i){e.push($(i).val())}),$('input[type="hidden"]',t).val(e.join())}),$(".date").datepicker()},load_filters:function(t){var e=0;$.each(t,function(t,i){for(var s=0;i.length>s;s++)$("#filters").append(EVEthing.filters.build(t,i[s][0],i[s][1])),e++}),0===e&&$("#filters").append(EVEthing.filters.build())},build:function(t,e,i){var s='<div class="control-group" style="margin: 0;">';return s+='<select name="ft" class="filter-type input-medium">',s+='<option value=""></option>',$.each(EVEthing.util.sorted_keys(EVEthing.filters.expected),function(e,i){s+=i===t?'<option value="'+i+'" selected>'+EVEthing.filters.expected[i].label+"</option>":'<option value="'+i+'">'+EVEthing.filters.expected[i].label+"</option>"}),s+="</select>",t&&(s+=EVEthing.filters.build_comparison(t,e),s+=EVEthing.filters.build_value(t,e,i)),s+='&nbsp;<i class="js-add icon-plus clickable filter-icon"></i>',s+='<i class="js-delete icon-trash clickable filter-icon"></i>',s+="</div>"},build_comparison:function(t,e){html=' <select name="fc" class="filter-comp input-small">';for(var i in EVEthing.filters.expected[t].comps){var s=EVEthing.filters.expected[t].comps[i];html+=s==e?'<option value="'+s+'" selected>'+EVEthing.filters.comparisons[s]+"</option>":'<option value="'+s+'">'+EVEthing.filters.comparisons[s]+"</option>"}return html+="</select>"},build_value:function(t,e,i){if(html=" ","in"==e)html+='<input name="fv" class="filter-value span2" type="text" value="'+i+'">';else if("date"==t){dates=i.split(",");for(var s=dates.length;2>s;s++)dates.push("");html+="<span>",html+='<div class="input-append date" data-date="'+dates[0]+'" data-date-format="yyyy-mm-dd">',html+='<input type="text" class="input-small" value="'+dates[0]+'" readonly>',html+='<span class="add-on"><i class="icon-calendar"></i></span></div>',"bt"==e&&(html+=" and ",html+='<div class="input-append date" data-date="'+dates[1]+'" data-date-format="yyyy-mm-dd">',html+='<input type="text" class="input-small" value="'+dates[1]+'" readonly>',html+='<span class="add-on"><i class="icon-calendar"></i></span></div>'),html+='<input type="hidden" name="fv" value="">',html+="</span>"}else EVEthing.filters.data[t]?(html+='<select name="fv" class="filter-value span2">',$.each(EVEthing.util.sorted_keys_by_value(EVEthing.filters.data[t]),function(e,s){var a=EVEthing.filters.data[t][s];html+=s==i?'<option value="'+s+'" selected>'+a+"</option>":'<option value="'+s+'">'+a+"</option>"}),html+="</select>"):html+='<input name="fv" class="filter-value span2" type="text" value="'+i+'">';return html}},EVEthing.home={replacements:{"character-name":"Character Name","apikey-name":"API name","corporation-name":"Corporation Name [TICKR]","character-location":"Hoth -- X-Wing","wallet-division":"Hookers & Blow","user-name":"Mr. User"},onload:function(){$("[rel=tooltip]").each(function(){$(this).data("tooltip").options.placement="right"}),$("body").on("click",".js-screenshot",EVEthing.home.screenshot_mode)},screenshot_mode:function(){$(".sensitive").each(function(){var t=$(this),e=t.attr("oldname");if(void 0===e){t.attr("oldname",t.text());for(var i=t.attr("class").split(/\s+/),s=0;i.length>s;s++){var a=EVEthing.home.replacements[i[s]];if(void 0!==a){t.text(a);break}}}else t.text(e),t.removeAttr("oldname")});var t=[];$(".row-fluid").each(function(){var e=$(this);$(".well",e).each(function(){var e=$(this),i=!1;$("[rel=tooltip]",e).each(function(){var e=$(this);0==i&&void 0===t[e.attr("class")]&&(i=!0,t[e.attr("class")]=!0,void 0===e.attr("shown")?(e.tooltip("show"),e.attr("shown","yup")):(e.tooltip("hide"),e.removeAttr("shown")))})})})}},EVEthing.industry={onload:function(){EVEthing.misc.setup_tab_hash()}},EVEthing.mail={onload:function(){$("#mail-side").on("click",".btn, input",function(){setTimeout(EVEthing.mail.build_table,1)}),$("#mail-side").on("change","select",EVEthing.mail.build_table),$("#mail-list-table").on("click",".mail-link",EVEthing.mail.mail_link_click),$(window).on("resize",EVEthing.mail.resize),EVEthing.mail.resize();
var t='<option value="0">-ALL-</option><option value="-" disabled>——————————</option>';$.each(EVEthing.util.sorted_keys_by_value(EVEthing.mail.characters),function(e,i){t+='<option value="'+i+'">'+EVEthing.mail.characters[i]+"</option>"}),$("#filter-character").html(t),$("#filter-character").val(0),$("#mail-list-table").tablesorter({theme:"bootstrap",headerTemplate:"{content} {icon}",widgets:["uitheme"],headers:{0:{sorter:!1}},sortList:[[4,1]]}),$.get(EVEthing.mail.headers_url,function(t){EVEthing.mail.data=t;for(var e=0;t.messages.length>e;e++)if(message=t.messages[e],message.to_list_id>0){var i=EVEthing.mail.data.mailing_lists[message.to_list_id]||"*UNKNOWN LIST*";message.to_list='<i class="icon-list"></i> '+i}else if(message.to_corp_or_alliance_id>0){var s=EVEthing.mail.data.corporations[message.to_corp_or_alliance_id];if(void 0!==s)message.to_corporation='<i class="icon-group"></i> '+s.name;else{var a=EVEthing.mail.data.alliances[message.to_corp_or_alliance_id];message.to_alliance=void 0!==a?'<i class="icon-hospital"></i> '+a.name:'<i class="icon-hospital"></i> *UNKNOWN*'}}else message.to_character=message.to_characters.length>0?message.to_characters.length>1?"*Multiple characters*":EVEthing.mail.data.characters[message.to_characters[0]]||"*UNKNOWN*":EVEthing.mail.data.characters[message.character_id]||"*UNKNOWN*";EVEthing.mail.build_table()}),Handlebars.registerHelper("rowClass",function(){return this.read?new Handlebars.SafeString(' class="success"'):new Handlebars.SafeString(' class="error"')}),Handlebars.registerHelper("toText",function(){return new Handlebars.SafeString(this.to_list||this.to_alliance||this.to_corporation||this.to_character)}),Handlebars.registerHelper("senderText",function(){return EVEthing.mail.data.characters[this.sender_id]||"*UNKNOWN*"}),Handlebars.registerHelper("subjectText",function(){return this.title||"*BLANK SUBJECT*"})},resize:function(){var t=($("#wrap").height()-$("#wrap .navbar").height()-$("#footer").height()-40)/2,e={"min-height":t+"px","max-height":t+"px"};$(".mail-list").css(e),$(".mail-message").css(e)},build_table:function(){for(var t=Handlebars.getTemplate("mail_list"),e=$("#filter-unread").hasClass("active"),i=$("#filter-read").hasClass("active"),s=$("#filter-to-character").is(":checked"),a=$("#filter-to-corporation").is(":checked"),r=$("#filter-to-alliance").is(":checked"),n=$("#filter-to-mailing-list").is(":checked"),o=parseInt($("#filter-character").val()),l=0,d="",c=0;EVEthing.mail.data.messages.length>c;c++){var h=EVEthing.mail.data.messages[c],f=!0,p=!1;e&&!h.read&&(p=!0),i&&h.read&&(p=!0),f=p,o>0&&h.character_id!==o&&0>h.to_characters.indexOf(o)&&(f=!1),keep_to=!1,(s&&h.to_character||a&&h.to_corporation||r&&h.to_alliance||n&&h.to_list)&&(keep_to=!0),f===!0&&(f=keep_to),f===!0&&(l++,d+=t(h))}$("#mail-list-table tbody").html(d),0===l?$("#mail-list-filtered").show():$("#mail-list-filtered").hide(),$("#mail-list-table").trigger("update")},mail_link_click:function(t){t.preventDefault&&t.preventDefault();for(var e=$(this).closest("tr"),i=parseInt($(this).attr("href").replace("#","")),s=0;EVEthing.mail.data.messages.length>s;s++)if(message=EVEthing.mail.data.messages[s],message.message_id===i){$("#mail-message-from").html(EVEthing.mail.data.characters[message.sender_id]||"*UNKNOWN*"),$("#mail-message-subject").html(message.title),$("#mail-message-date").html(message.sent_date);var a=message.to_list||message.to_alliance||message.to_corporation;if(void 0===a){for(var r=[],s=0;message.to_characters.length>s;s++){var n=message.to_characters[s];void 0!==EVEthing.mail.characters[n]?r.push("<strong>"+EVEthing.mail.characters[n]+"</strong>"):r.push(EVEthing.mail.data.characters[n]||"*UNKNOWN*")}a=r.join(", ")}if($("#mail-message-to").html(a),void 0!==message.body)$("#mail-message.body").html(message.body);else{$("#mail-message-body").html('<i class="icon-spinner icon-spin icon-4x"></i>');var o=EVEthing.mail.body_url.replace("0000",i);$.get(o,function(t){t.body?(e.removeClass("warning"),message.body=t.body.replace(/\n/g,"<br>\n"),message.read=!0,$("#mail-message-body").html(message.body),EVEthing.mail.build_table()):$("#mail-message.body").html("<strong>ERROR:</strong> "+t.error)})}break}return!1}},EVEthing.orders={onload:function(){$("[rel=tooltip]").each(function(){$(this).data("tooltip").options.placement="right"})}},EVEthing.transactions={onload:function(){document.location.search,$("a").each(function(){var t=$(this).attr("href");if(void 0!==t&&"?page"===t.substr(0,5)){var e=parseQueryString();e.page=t.split(/=/)[1],$(this).attr("href","?"+$.param(e))}}),EVEthing.filters.bind_events(),EVEthing.filters.load_filters(EVEthing.transactions.filters)}},EVEthing.wallet_journal={onload:function(){document.location.search,$("a").each(function(){var t=$(this).attr("href");if(void 0!==t&&"?page"===t.substr(0,5)){var e=parseQueryString();e.page=t.split(/=/)[1],$(this).attr("href","?"+$.param(e))}}),EVEthing.filters.bind_events(),EVEthing.filters.load_filters(EVEthing.wallet_journal.filters),$("#aggregate-form").submit(function(){var t=$(this).attr("action"),e=$("#filter-form, #aggregate-form").serialize();return window.location.href=t+"?"+e,!1})}};